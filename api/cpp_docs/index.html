<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><link rel=stylesheet href=https://docs.zymbit.com/main.876b54e620c4f37dd9ff973af3d601b5720f0645bcd66d803fbd27d3ed5e3b66bb1c4b5c40fca6dbf3409cf10ca95cc50ac1ccdab2cfd367a0f51488fd9231da.css integrity="sha512-h2tU5iDE833Z/5c689YBtXIPBkW81m2AP70n0+1eO2a7HEtcQPym2/NAnPEMqVzFCsHM2rLP02eg9RSI/ZIx2g==" crossorigin=anonymous><noscript><style>img.lazyload{display:none}</style></noscript><meta name=robots content="index, follow"><meta name=googlebot content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"><meta name=bingbot content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"><title>C++ API Documentation | Zymbit Documentation</title><meta name=description content="C++ interface to Zymkey Application Utilities Library."><link rel=canonical href=https://docs.zymbit.com/api/cpp_docs/><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://docs.zymbit.com/doks.png"><meta name=twitter:title content="C++ API Documentation"><meta name=twitter:description content="C++ interface to Zymkey Application Utilities Library."><meta name=twitter:site content="@zymbit"><meta name=twitter:creator content="@zymbit"><meta property="og:title" content="C++ API Documentation"><meta property="og:description" content="C++ interface to Zymkey Application Utilities Library."><meta property="og:type" content="article"><meta property="og:url" content="https://docs.zymbit.com/api/cpp_docs/"><meta property="og:image" content="https://docs.zymbit.com/doks.png"><meta property="article:modified_time" content="2021-05-17T16:37:17-04:00"><meta property="og:site_name" content="Zymbit Documentation"><meta property="article:publisher" content="https://www.facebook.com/zymbit"><meta property="article:author" content="https://www.facebook.com/zymbit"><meta property="og:locale" content="en_US"><script type=application/ld+json>{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Home","item":"https:\/\/docs.zymbit.com"},{"@type":"ListItem","position":3,"name":"Api","item":"https:\/\/docs.zymbit.com\/api\/"},{"@type":"ListItem","position":4,"name":"Cpp Docs","item":"https:\/\/docs.zymbit.com\/api\/cpp_docs\/"}]}</script><meta name=theme-color content="#fff"><link rel=apple-touch-icon sizes=180x180 href=https://docs.zymbit.com/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=https://docs.zymbit.com/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=https://docs.zymbit.com/favicon-16x16.png><link rel=manifest href=https://docs.zymbit.com/site.webmanifest></head><body class="docs single"><div class="header-bar fixed-top"></div><header class="navbar fixed-top navbar-expand-md navbar-light"><div class=container-fluid><input class="menu-btn order-0" type=checkbox id=menu-btn>
<label class="menu-icon d-md-none" for=menu-btn><span class=navicon></span></label><a class="navbar-brand order-1 order-md-0 mr-auto" href=https://docs.zymbit.com><img class="mr-0 logo-light" src=https://docs.zymbit.com/logo-zymbit.png style=max-width:175px alt="Zymbit Documentation">
<img class="mr-0 logo-dark" src=https://docs.zymbit.com/logo-zymbit-dark.png style=max-width:175px alt="Zymbit Documentation"></a>
<button id=mode class="btn btn-link order-2 order-md-4" type=button aria-label="Toggle mode">
<span class=toggle-dark><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-moon"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg></span><span class=toggle-light><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-sun"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></span></button><ul class="navbar-nav social-nav order-3 order-md-5"><li class=nav-item><a class=nav-link href=https://github.com/zymbit-docs><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77a5.44 5.44.0 00-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg><span class="ml-2 sr-only">GitHub</span></a></li><li class=nav-item><a class=nav-link href=https://twitter.com/zymbit><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-twitter"><path d="M23 3a10.9 10.9.0 01-3.14 1.53 4.48 4.48.0 00-7.86 3v1A10.66 10.66.0 013 4s-4 9 5 13a11.64 11.64.0 01-7 2c9 5 20 0 20-11.5a4.5 4.5.0 00-.08-.83A7.72 7.72.0 0023 3z"/></svg><span class="ml-2 sr-only">Twitter</span></a></li></ul><div class="collapse navbar-collapse order-4 order-md-1"><ul class="navbar-nav main-nav mr-auto order-5 order-md-2"><li class=nav-item><a class=nav-link href=https://docs.zymbit.com/>Docs</a></li></ul><div class="break order-6 d-md-none"></div><form class="navbar-form flex-grow-1 order-7 order-md-3"><input id=userinput class="form-control is-search" type=search placeholder="Search docs..." aria-label="Search docs..." autocomplete=off><div id=suggestions class="shadow bg-white rounded"></div></form></div></div></header><div class="wrap container-fluid" role=document><div class=content><div class="row flex-xl-nowrap"><div class="col-lg-5 col-xl-4 docs-sidebar"><nav class=docs-links aria-label="Main navigation"><ul class=docs-menu-top-list><li><a class=docs-link href=https://docs.zymbit.com/>Introduction</a></li></ul><h3>Getting Started</h3><ul class=docs-menu-top-list><li><a class=docs-link href=https://docs.zymbit.com/getting-started/zymkey4i/>Get Started with Zymkey 4i</a></li></ul><h3>Apis</h3><ul class=docs-menu-top-list><li><a class=docs-link href=https://docs.zymbit.com/api/api_docs_intro/>Intro to Zymkey Application Utilities</a></li><li><a class=docs-link href=https://docs.zymbit.com/api/c_docs/>C API Documentation</a></li><li><a class="docs-link active" href=https://docs.zymbit.com/api/cpp_docs/>C++ API Documentation</a></li><div class=page-links><nav id=TableOfContents><ul><li><a href=#span-classmarkdown-h2-include-tocintroductionspan><span class="markdown-h2 include-toc">Introduction</span></a></li><li><a href=#span-classmarkdown-h2-include-toctypedefsspan><span class="markdown-h2 include-toc">Typedefs</span></a><ul><li><a href=#span-classmarkdown-h3-signature-include-tocspan-classannotationtypedefspanspan-classtypestdvectorltuint8_tgtspanspan-classnamebytearrayspanspan><span class="markdown-h3 signature include-toc"><span class=annotation>typedef</span><span class=type>std::vector&lt;uint8_t></span><span class=name>byteArray</span></span></a></li><li><a href=#span-classmarkdown-h3-signature-include-tocspan-classannotationtypedefspanspan-classtypestdvectorltintgtspanspan-classnameintarrayspanspan><span class="markdown-h3 signature include-toc"><span class=annotation>typedef</span><span class=type>std::vector&lt;int></span><span class=name>intArray</span></span></a></li></ul></li><li><a href=#span-classmarkdown-h2-include-tocstructsspan><span class="markdown-h2 include-toc">Structs</span></a><ul><li><a href=#span-classmarkdown-h3-signature-include-tocspan-classannotationstruct-spanspan-classnameacceldataspanspan><span class="markdown-h3 signature include-toc"><span class=annotation>struct </span><span class=name>accelData</span></span></a><ul><li><a href=#span-classmarkdown-h4-signature-include-tocspan-classreturnsdoublespanspan-classnamexspanspan><span class="markdown-h4 signature include-toc"><span class=returns>double</span><span class=name>x</span></span></a></li><li><a href=#span-classmarkdown-h4-signature-include-tocspan-classreturnsdoublespanspan-classnameyspanspan><span class="markdown-h4 signature include-toc"><span class=returns>double</span><span class=name>y</span></span></a></li><li><a href=#span-classmarkdown-h4-signature-include-tocspan-classreturnsdoublespanspan-classnamezspanspan><span class="markdown-h4 signature include-toc"><span class=returns>double</span><span class=name>z</span></span></a></li><li><a href=#span-classmarkdown-h4-signature-include-tocspan-classreturnsintspanspan-classnametapdirxspanspan><span class="markdown-h4 signature include-toc"><span class=returns>int</span><span class=name>tapDirX</span></span></a></li><li><a href=#span-classmarkdown-h4-signature-include-tocspan-classreturnsintspanspan-classnametapdiryspanspan><span class="markdown-h4 signature include-toc"><span class=returns>int</span><span class=name>tapDirY</span></span></a></li><li><a href=#span-classmarkdown-h4-signature-include-tocspan-classreturnsintspanspan-classnametapdirzspanspan><span class="markdown-h4 signature include-toc"><span class=returns>int</span><span class=name>tapDirZ</span></span></a></li></ul></li></ul></li><li><a href=#span-classmarkdown-h2-include-tocclassesspan><span class="markdown-h2 include-toc">Classes</span></a><ul><li><a href=#span-classmarkdown-h3-signature-include-tocspan-classannotationclassspanspan-classnamezkclassspanspan><span class="markdown-h3 signature include-toc"><span class=annotation>class</span><span class=name>zkClass</span></span></a><ul><li><a href=#zkClass_f24db7dc><span><span class=name>zkClass</span><span class=param-list><span class="param-paren paren-open">( </span><span class="param-paren paren-close">)</span></span></span></a></li><li><a href=#virtual_~zkClass_f24db7dc><span><span class=annotation>virtual</span><span class=name>~zkClass</span><span class=param-list><span class="param-paren paren-open">( </span><span class="param-paren paren-close">)</span></span></span></a></li><li><a href=#void_createRandDataFile_e3444204><span><span class=returns>void</span><span class=pointer-ref><span class=name>createRandDataFile</span><span class=param-list><span class="param-paren paren-open">( </span><span class=param><span class=annotation><span class=type>std::string</span><span class=pointer-ref>&</span><span class=name>dst_filename</span></span>, <span class=param><span class=annotation><span class=type>int</span><span class=pointer-ref><span class=name>rdata_sz</span></span><span class="param-paren paren-close"> )</span></span></span></a></li><li><a href=#getRandBytes_745f6a2c><span><span class=pointer-ref>*</span><span class=name>getRandBytes</span><span class=param-list><span class="param-paren paren-open">( </span><span class=param><span class=annotation><span class=type>int</span><span class=pointer-ref><span class=name>rdata_sz</span></span><span class="param-paren paren-close"> )</span></span></span></a></li><li><a href=#void_lockData_ec438417><span><span class=returns>void</span><span class=pointer-ref><span class=name>lockData</span><span class=param-list><span class="param-paren paren-open">( </span><span class=param><span class=annotation>const</span><span class=type>std::string</span><span class=pointer-ref>&</span><span class=name>src_pt_filename</span></span>, <span class=param><span class=annotation>const</span><span class=type>std::string</span><span class=pointer-ref>&</span><span class=name>dst_ct_filename</span></span>, <span class=param><span class=annotation><span class=type>bool</span><span class=pointer-ref><span class=name>use_shared_key</span> = <span class=default-val>false</span></span><span class="param-paren paren-close"> )</span></span></span></a></li><li><a href=#void_lockData_942434d8><span><span class=returns>void</span><span class=pointer-ref><span class=name>lockData</span><span class=param-list><span class="param-paren paren-open">( </span><span class=param><span class=annotation>const</span><span class=type>zkAppUtils::byteArray</span><span class=pointer-ref>&</span><span class=name>src_pt_data</span></span>, <span class=param><span class=annotation>const</span><span class=type>std::string</span><span class=pointer-ref>&</span><span class=name>dst_ct_filename</span></span>, <span class=param><span class=annotation><span class=type>bool</span><span class=pointer-ref><span class=name>use_shared_key</span> = <span class=default-val>false</span></span><span class="param-paren paren-close"> )</span></span></span></a></li><li><a href=#lockData_f6af014d><span><span class=pointer-ref>*</span><span class=name>lockData</span><span class=param-list><span class="param-paren paren-open">( </span><span class=param><span class=annotation>const</span><span class=type>std::string</span><span class=pointer-ref>&</span><span class=name>src_pt_filename</span></span>, <span class=param><span class=annotation><span class=type>bool</span><span class=pointer-ref><span class=name>use_shared_key</span> = <span class=default-val>false</span></span><span class="param-paren paren-close"> )</span></span></span></a></li><li><a href=#lockData_acb5e31b><span><span class=pointer-ref>*</span><span class=name>lockData</span><span class=param-list><span class="param-paren paren-open">( </span><span class=param><span class=annotation>const</span><span class=type>zkAppUtils::byteArray</span><span class=pointer-ref>&</span><span class=name>src_pt_data</span></span>, <span class=param><span class=annotation><span class=type>bool</span><span class=pointer-ref><span class=name>use_shared_key</span> = <span class=default-val>false</span></span><span class="param-paren paren-close"> )</span></span></span></a></li><li><a href=#void_unlockData_ec438417><span><span class=returns>void</span><span class=pointer-ref><span class=name>unlockData</span><span class=param-list><span class="param-paren paren-open">( </span><span class=param><span class=annotation>const</span><span class=type>std::string</span><span class=pointer-ref>&</span><span class=name>src_ct_filename</span></span>, <span class=param><span class=annotation>const</span><span class=type>std::string</span><span class=pointer-ref>&</span><span class=name>dst_pt_filename</span></span>, <span class=param><span class=annotation><span class=type>bool</span><span class=pointer-ref><span class=name>use_shared_key</span> = <span class=default-val>false</span></span><span class="param-paren paren-close"> )</span></span></span></a></li><li><a href=#void_unlockData_942434d8><span><span class=returns>void</span><span class=pointer-ref><span class=name>unlockData</span><span class=param-list><span class="param-paren paren-open">( </span><span class=param><span class=annotation>const</span><span class=type>zkAppUtils::byteArray</span><span class=pointer-ref>&</span><span class=name>src_ct_data</span></span>, <span class=param><span class=annotation>const</span><span class=type>std::string</span><span class=pointer-ref>&</span><span class=name>dst_pt_filename</span></span>, <span class=param><span class=annotation><span class=type>bool</span><span class=pointer-ref><span class=name>use_shared_key</span> = <span class=default-val>false</span></span><span class="param-paren paren-close"> )</span></span></span></a></li><li><a href=#unlockData_f6af014d><span><span class=pointer-ref>*</span><span class=name>unlockData</span><span class=param-list><span class="param-paren paren-open">( </span><span class=param><span class=annotation>const</span><span class=type>std::string</span><span class=pointer-ref>&</span><span class=name>src_ct_filename</span></span>, <span class=param><span class=annotation><span class=type>bool</span><span class=pointer-ref><span class=name>use_shared_key</span> = <span class=default-val>false</span></span><span class="param-paren paren-close"> )</span></span></span></a></li><li><a href=#unlockData_acb5e31b><span><span class=pointer-ref>*</span><span class=name>unlockData</span><span class=param-list><span class="param-paren paren-open">( </span><span class=param><span class=annotation>const</span><span class=type>zkAppUtils::byteArray</span><span class=pointer-ref>&</span><span class=name>src_ct_bytes</span></span>, <span class=param><span class=annotation><span class=type>bool</span><span class=pointer-ref><span class=name>use_shared_key</span> = <span class=default-val>false</span></span><span class="param-paren paren-close"> )</span></span></span></a></li><li><a href=#genECDSASigFromDigest_067907b4><span><span class=pointer-ref>*</span><span class=name>genECDSASigFromDigest</span><span class=param-list><span class="param-paren paren-open">( </span><span class=param><span class=annotation><span class=type>zkAppUtils::byteArray</span><span class=pointer-ref>&</span><span class=name>digest</span></span>, <span class=param><span class=annotation><span class=type>int</span><span class=pointer-ref><span class=name>slot</span> = <span class=default-val>0</span></span><span class="param-paren paren-close"> )</span></span></span></a></li><li><a href=#bool_verifyECDSASigFromDigest_e0555bcd><span><span class=returns>bool</span><span class=pointer-ref><span class=name>verifyECDSASigFromDigest</span><span class=param-list><span class="param-paren paren-open">( </span><span class=param><span class=annotation><span class=type>zkAppUtils::byteArray</span><span class=pointer-ref>&</span><span class=name>digest</span></span>, <span class=param><span class=annotation><span class=type>zkAppUtils::byteArray</span><span class=pointer-ref>&</span><span class=name>sig</span></span>, <span class=param><span class=annotation><span class=type>int</span><span class=pointer-ref><span class=name>pub_key_slot</span> = <span class=default-val>0</span></span>, <span class=param><span class=annotation><span class=type>bool</span><span class=pointer-ref><span class=name>pub_key_is_foreign</span> = <span class=default-val>false</span></span><span class="param-paren paren-close"> )</span></span></span></a></li><li><a href=#doRawECDH_a77442d1><span><span class=pointer-ref>*</span><span class=name>doRawECDH</span><span class=param-list><span class="param-paren paren-open">( </span><span class=param><span class=annotation><span class=type>int</span><span class=pointer-ref><span class=name>slot</span></span>, <span class=param><span class=annotation><span class=type>zkAppUtils::byteArray</span><span class=pointer-ref>&</span><span class=name>peer_pubkey</span></span><span class="param-paren paren-close"> )</span></span></span></a></li><li><a href=#doRawECDHWithIntPeerPubkey_d788e54d><span><span class=pointer-ref>*</span><span class=name>doRawECDHWithIntPeerPubkey</span><span class=param-list><span class="param-paren paren-open">( </span><span class=param><span class=annotation><span class=type>int</span><span class=pointer-ref><span class=name>slot</span></span>, <span class=param><span class=annotation><span class=type>int</span><span class=pointer-ref><span class=name>peer_pubkey_slot</span></span>, <span class=param><span class=annotation><span class=type>bool</span><span class=pointer-ref><span class=name>peer_pubkey_slot_is_foreign</span></span><span class="param-paren paren-close"> )</span></span></span></a></li><li><a href=#doECDHAndKDF_f1769cf8><span><span class=pointer-ref>*</span><span class=name>doECDHAndKDF</span><span class=param-list><span class="param-paren paren-open">( </span><span class=param><span class=annotation><span class=type>ZK_ECDH_KDF_TYPE</span><span class=pointer-ref><span class=name>kdf_type</span></span>, <span class=param><span class=annotation><span class=type>int</span><span class=pointer-ref><span class=name>slot</span></span>, <span class=param><span class=annotation><span class=type>zkAppUtils::byteArray</span><span class=pointer-ref>&</span><span class=name>peer_pubkey</span></span>, <span class=param><span class=annotation><span class=type>zkAppUtils::byteArray</span><span class=pointer-ref>&</span><span class=name>salt</span></span>, <span class=param><span class=annotation><span class=type>zkAppUtils::byteArray</span><span class=pointer-ref>&</span><span class=name>info</span></span>, <span class=param><span class=annotation><span class=type>int</span><span class=pointer-ref><span class=name>num_iterations</span></span>, <span class=param><span class=annotation><span class=type>int</span><span class=pointer-ref><span class=name>derived_key_sz</span></span><span class="param-paren paren-close"> )</span></span></span></a></li><li><a href=#doECDHAndKDFWithIntPeerPubkey_c33b0f50><span><span class=pointer-ref>*</span><span class=name>doECDHAndKDFWithIntPeerPubkey</span><span class=param-list><span class="param-paren paren-open">( </span><span class=param><span class=annotation><span class=type>ZK_ECDH_KDF_TYPE</span><span class=pointer-ref><span class=name>kdf_type</span></span>, <span class=param><span class=annotation><span class=type>int</span><span class=pointer-ref><span class=name>slot</span></span>, <span class=param><span class=annotation><span class=type>int</span><span class=pointer-ref><span class=name>peer_pubkey_slot</span></span>, <span class=param><span class=annotation><span class=type>bool</span><span class=pointer-ref><span class=name>peer_pubkey_slot_is_foreign</span></span>, <span class=param><span class=annotation><span class=type>zkAppUtils::byteArray</span><span class=pointer-ref>&</span><span class=name>salt</span></span>, <span class=param><span class=annotation><span class=type>zkAppUtils::byteArray</span><span class=pointer-ref>&</span><span class=name>info</span></span>, <span class=param><span class=annotation><span class=type>int</span><span class=pointer-ref><span class=name>num_iterations</span></span>, <span class=param><span class=annotation><span class=type>int</span><span class=pointer-ref><span class=name>derived_key_sz</span></span><span class="param-paren paren-close"> )</span></span></span></a></li><li><a href=#void_saveECDSAPubKey2File_c6fe22fc><span><span class=returns>void</span><span class=pointer-ref><span class=name>saveECDSAPubKey2File</span><span class=param-list><span class="param-paren paren-open">( </span><span class=param><span class=annotation><span class=type>std::string</span><span class=pointer-ref><span class=name>dst_filename</span></span>, <span class=param><span class=annotation><span class=type>int</span><span class=pointer-ref><span class=name>slot</span> = <span class=default-val>0</span></span><span class="param-paren paren-close"> )</span></span></span></a></li><li><a href=#void_exportPubKey2File_c75fa5f6><span><span class=returns>void</span><span class=pointer-ref><span class=name>exportPubKey2File</span><span class=param-list><span class="param-paren paren-open">( </span><span class=param><span class=annotation><span class=type>std::string</span><span class=pointer-ref><span class=name>dst_filename</span></span>, <span class=param><span class=annotation><span class=type>int</span><span class=pointer-ref><span class=name>pubkey_slot</span> = <span class=default-val>0</span></span>, <span class=param><span class=annotation><span class=type>bool</span><span class=pointer-ref><span class=name>slot_is_foreign</span> = <span class=default-val>false</span></span><span class="param-paren paren-close"> )</span></span></span></a></li><li><a href=#getECDSAPubKey_baa17d4d><span><span class=pointer-ref>*</span><span class=name>getECDSAPubKey</span><span class=param-list><span class="param-paren paren-open">( </span><span class=param><span class=annotation><span class=type>int</span><span class=pointer-ref><span class=name>slot</span> = <span class=default-val>0</span></span><span class="param-paren paren-close"> )</span></span></span></a></li><li><a href=#exportPubKey_2bc8a24f><span><span class=pointer-ref>*</span><span class=name>exportPubKey</span><span class=param-list><span class="param-paren paren-open">( </span><span class=param><span class=annotation><span class=type>int</span><span class=pointer-ref><span class=name>pubkey_slot</span> = <span class=default-val>0</span></span>, <span class=param><span class=annotation><span class=type>bool</span><span class=pointer-ref><span class=name>slot_is_foreign</span> = <span class=default-val>0</span></span><span class="param-paren paren-close"> )</span></span></span></a></li><li><a href=#getAllocSlotsList_aae7e3e9><span><span class=pointer-ref>*</span><span class=name>getAllocSlotsList</span><span class=param-list><span class="param-paren paren-open">( </span><span class=param><span class=annotation><span class=type>bool</span><span class=pointer-ref><span class=name>foreign_key_pool</span></span><span class="param-paren paren-close"> )</span></span></span></a></li><li><a href=#int_storeForeignPubKey_607a7919><span><span class=returns>int</span><span class=pointer-ref><span class=name>storeForeignPubKey</span><span class=param-list><span class="param-paren paren-open">( </span><span class=param><span class=annotation><span class=type>ZK_EC_KEY_TYPE</span><span class=pointer-ref><span class=name>pk_type</span></span>, <span class=param><span class=annotation><span class=type>zkAppUtils::byteArray</span><span class=pointer-ref>&</span><span class=name>pk</span></span><span class="param-paren paren-close"> )</span></span></span></a></li><li><a href=#void_disablePubKeyExport_9a723be9><span><span class=returns>void</span><span class=pointer-ref><span class=name>disablePubKeyExport</span><span class=param-list><span class="param-paren paren-open">( </span><span class=param><span class=annotation><span class=type>int</span><span class=pointer-ref><span class=name>pubkey_slot</span></span>, <span class=param><span class=annotation><span class=type>bool</span><span class=pointer-ref><span class=name>slot_is_foreign</span> = <span class=default-val>false</span></span><span class="param-paren paren-close"> )</span></span></span></a></li><li><a href=#int_genKeyPair_a92324d5><span><span class=returns>int</span><span class=pointer-ref><span class=name>genKeyPair</span><span class=param-list><span class="param-paren paren-open">( </span><span class=param><span class=annotation><span class=type>ZK_EC_KEY_TYPE</span><span class=pointer-ref><span class=name>type</span></span><span class="param-paren paren-close"> )</span></span></span></a></li><li><a href=#void_genEphemeralKeyPair_a92324d5><span><span class=returns>void</span><span class=pointer-ref><span class=name>genEphemeralKeyPair</span><span class=param-list><span class="param-paren paren-open">( </span><span class=param><span class=annotation><span class=type>ZK_EC_KEY_TYPE</span><span class=pointer-ref><span class=name>type</span></span><span class="param-paren paren-close"> )</span></span></span></a></li><li><a href=#void_removeKey_ac3a53a7><span><span class=returns>void</span><span class=pointer-ref><span class=name>removeKey</span><span class=param-list><span class="param-paren paren-open">( </span><span class=param><span class=annotation><span class=type>int</span><span class=pointer-ref><span class=name>slot</span></span>, <span class=param><span class=annotation><span class=type>bool</span><span class=pointer-ref><span class=name>slot_is_foreign</span> = <span class=default-val>false</span></span><span class="param-paren paren-close"> )</span></span></span></a></li><li><a href=#void_invalidateEphemeralKey_f24db7dc><span><span class=returns>void</span><span class=pointer-ref><span class=name>invalidateEphemeralKey</span><span class=param-list><span class="param-paren paren-open">( </span><span class="param-paren paren-close">)</span></span></span></a></li><li><a href=#int_genBIP32WalletMasterSeed_05540bde><span><span class=returns>int</span><span class=pointer-ref><span class=name>genBIP32WalletMasterSeed</span><span class=param-list><span class="param-paren paren-open">( </span><span class=param><span class=annotation><span class=type>ZK_EC_KEY_TYPE</span><span class=pointer-ref><span class=name>type</span></span>, <span class=param><span class=annotation><span class=type>std::string</span><span class=pointer-ref>&</span><span class=name>wallet_name</span></span>, <span class=param><span class=annotation><span class=type>zkAppUtils::byteArray</span><span class=pointer-ref>&</span><span class=name>master_generator_key</span></span><span class="param-paren paren-close"> )</span></span></span></a></li><li><a href=#std::stringgenBIP39WalletMasterSeed_6cde3522><span><span class=returns>std::string <em></span><span class=pointer-ref><span class=name>genBIP39WalletMasterSeed</span><span class=param-list><span class="param-paren paren-open">( </span><span class=param><span class=annotation><span class=type>ZK_EC_KEY_TYPE</span><span class=pointer-ref><span class=name>type</span></span>, <span class=param><span class=annotation><span class=type>std::string</span><span class=pointer-ref>&</span><span class=name>wallet_name</span></span>, <span class=param><span class=annotation><span class=type>zkAppUtils::byteArray</span><span class=pointer-ref>&</span><span class=name>master_generator_key</span></span>, <span class=param><span class=annotation><span class=type>int</span><span class=pointer-ref></em></span><span class=name>slot_num</span></span><span class="param-paren paren-close"> )</span></span></span></a></li><li><a href=#int_genWalletChildKey_7b498800><span><span class=returns>int</span><span class=pointer-ref><span class=name>genWalletChildKey</span><span class=param-list><span class="param-paren paren-open">( </span><span class=param><span class=annotation><span class=type>int</span><span class=pointer-ref><span class=name>parent_key_slot</span></span>, <span class=param><span class=annotation><span class=type>uint32_t</span><span class=pointer-ref><span class=name>index</span></span>, <span class=param><span class=annotation><span class=type>bool</span><span class=pointer-ref><span class=name>is_hardened</span></span><span class="param-paren paren-close"> )</span></span></span></a></li><li><a href=#int_restoreWalletMasterSeedFromBIP39Mnemonic_2b185ae7><span><span class=returns>int</span><span class=pointer-ref><span class=name>restoreWalletMasterSeedFromBIP39Mnemonic</span><span class=param-list><span class="param-paren paren-open">( </span><span class=param><span class=annotation><span class=type>ZK_EC_KEY_TYPE</span><span class=pointer-ref><span class=name>type</span></span>, <span class=param><span class=annotation><span class=type>std::string</span><span class=pointer-ref>&</span><span class=name>wallet_name</span></span>, <span class=param><span class=annotation><span class=type>zkAppUtils::byteArray</span><span class=pointer-ref>&</span><span class=name>master_generator_key</span></span>, <span class=param><span class=annotation><span class=type>std::string</span><span class=pointer-ref>&</span><span class=name>bip39_mnemonic</span></span><span class="param-paren paren-close"> )</span></span></span></a></li><li><a href=#int_getWalletNodeAddrFromKeySlot_93c3b698><span><span class=returns>int</span><span class=pointer-ref><span class=name>getWalletNodeAddrFromKeySlot</span><span class=param-list><span class="param-paren paren-open">( </span><span class=param><span class=annotation><span class=type>int</span><span class=pointer-ref><span class=name>slot</span></span>, <span class=param><span class=annotation><span class=type>std::string</span><span class=pointer-ref><em></span><span class=name>out_node_addr</span></span>, <span class=param><span class=annotation><span class=type>std::string</span><span class=pointer-ref></em></span><span class=name>out_wallet_name</span> = <span class=default-val>NULL</span></span><span class="param-paren paren-close"> )</span></span></span></a></li><li><a href=#int_getWalletKeySlotFromNodeAddr_f97fd4f4><span><span class=returns>int</span><span class=pointer-ref><span class=name>getWalletKeySlotFromNodeAddr</span><span class=param-list><span class="param-paren paren-open">( </span><span class=param><span class=annotation><span class=type>std::string</span><span class=pointer-ref>&</span><span class=name>node_addr</span></span>, <span class=param><span class=annotation><span class=type>std::string</span><span class=pointer-ref>&</span><span class=name>wallet_name</span></span>, <span class=param><span class=annotation><span class=type>int</span><span class=pointer-ref><span class=name>master_seed_slot</span></span><span class="param-paren paren-close"> )</span></span></span></a></li><li><a href=#void_ledOff_f24db7dc><span><span class=returns>void</span><span class=pointer-ref><span class=name>ledOff</span><span class=param-list><span class="param-paren paren-open">( </span><span class="param-paren paren-close">)</span></span></span></a></li><li><a href=#void_ledOn_f24db7dc><span><span class=returns>void</span><span class=pointer-ref><span class=name>ledOn</span><span class=param-list><span class="param-paren paren-open">( </span><span class="param-paren paren-close">)</span></span></span></a></li><li><a href=#void_ledFlash_1c61cd28><span><span class=returns>void</span><span class=pointer-ref><span class=name>ledFlash</span><span class=param-list><span class="param-paren paren-open">( </span><span class=param><span class=annotation><span class=type>uint32_t</span><span class=pointer-ref><span class=name>on_ms</span></span>, <span class=param><span class=annotation><span class=type>uint32_t</span><span class=pointer-ref><span class=name>off_ms</span> = <span class=default-val>0</span></span>, <span class=param><span class=annotation><span class=type>uint32_t</span><span class=pointer-ref><span class=name>num_flashes</span> = <span class=default-val>0</span></span><span class="param-paren paren-close"> )</span></span></span></a></li><li><a href=#void_setI2CAddr_b2a46129><span><span class=returns>void</span><span class=pointer-ref><span class=name>setI2CAddr</span><span class=param-list><span class="param-paren paren-open">( </span><span class=param><span class=annotation><span class=type>int</span><span class=pointer-ref><span class=name>addr</span></span><span class="param-paren paren-close"> )</span></span></span></a></li><li><a href=#uint32t_getTime_64df3f4b><span><span class=returns>uint32_t</span><span class=pointer-ref><span class=name>getTime</span><span class=param-list><span class="param-paren paren-open">( </span><span class=param><span class=annotation><span class=type>bool</span><span class=pointer-ref><span class=name>precise_time</span> = <span class=default-val>false</span></span><span class="param-paren paren-close"> )</span></span></span></a></li><li><a href=#void_setTapSensitivity_d4990882><span><span class=returns>void</span><span class=pointer-ref><span class=name>setTapSensitivity</span><span class=param-list><span class="param-paren paren-open">( </span><span class=param><span class=annotation><span class=type>float</span><span class=pointer-ref><span class=name>pct</span></span>, <span class=param><span class=annotation><span class=type>ZK_ACCEL_AXIS_TYPE</span><span class=pointer-ref><span class=name>axis</span> = <span class=default-val>ZK_ACCEL_AXIS_ALL</span></span><span class="param-paren paren-close"> )</span></span></span></a></li><li><a href=#void_waitForTap_31151db6><span><span class=returns>void</span><span class=pointer-ref><span class=name>waitForTap</span><span class=param-list><span class="param-paren paren-open">( </span><span class=param><span class=annotation><span class=type>uint32_t</span><span class=pointer-ref><span class=name>timeout_ms</span></span><span class="param-paren paren-close"> )</span></span></span></a></li><li><a href=#void_getAccelerometerData_76968e99><span><span class=returns>void</span><span class=pointer-ref><span class=name>getAccelerometerData</span><span class=param-list><span class="param-paren paren-open">( </span><span class=param><span class=annotation><span class=type>zkAppUtils::accelData</span><span class=pointer-ref>&</span><span class=name>accel_data</span></span><span class="param-paren paren-close"> )</span></span></span></a></li><li><a href=#void_lockBinding_f24db7dc><span><span class=returns>void</span><span class=pointer-ref><span class=name>lockBinding</span><span class=param-list><span class="param-paren paren-open">( </span><span class="param-paren paren-close">)</span></span></span></a></li><li><a href=#void_getCurrentBindingInfo_223d6c78><span><span class=returns>void</span><span class=pointer-ref><span class=name>getCurrentBindingInfo</span><span class=param-list><span class="param-paren paren-open">( </span><span class=param><span class=annotation><span class=type>bool</span><span class=pointer-ref>&</span><span class=name>binding_is_locked</span></span>, <span class=param><span class=annotation><span class=type>bool</span><span class=pointer-ref>&</span><span class=name>is_bound</span></span><span class="param-paren paren-close"> )</span></span></span></a></li><li><a href=#void_setPerimeterEventAction_8cb52c8f><span><span class=returns>void</span><span class=pointer-ref><span class=name>setPerimeterEventAction</span><span class=param-list><span class="param-paren paren-open">( </span><span class=param><span class=annotation><span class=type>int</span><span class=pointer-ref><span class=name>channel</span></span>, <span class=param><span class=annotation><span class=type>uint32_t</span><span class=pointer-ref><span class=name>action_flags</span></span><span class="param-paren paren-close"> )</span></span></span></a></li><li><a href=#void_setDigitalPerimeterDetectLPPeriod_42acacc4><span><span class=returns>void</span><span class=pointer-ref><span class=name>setDigitalPerimeterDetectLPPeriod</span><span class=param-list><span class="param-paren paren-open">( </span><span class=param><span class=annotation><span class=type>int</span><span class=pointer-ref><span class=name>lp_period</span></span><span class="param-paren paren-close"> )</span></span></span></a></li><li><a href=#void_setDigitalPerimeterDetectLPMaxBits_4e385e59><span><span class=returns>void</span><span class=pointer-ref><span class=name>setDigitalPerimeterDetectLPMaxBits</span><span class=param-list><span class="param-paren paren-open">( </span><span class=param><span class=annotation><span class=type>int</span><span class=pointer-ref><span class=name>max_num_bits</span></span><span class="param-paren paren-close"> )</span></span></span></a></li><li><a href=#void_setDigitalPerimeterDetectDelays_16d29912><span><span class=returns>void</span><span class=pointer-ref><span class=name>setDigitalPerimeterDetectDelays</span><span class=param-list><span class="param-paren paren-open">( </span><span class=param><span class=annotation><span class=type>int</span><span class=pointer-ref><span class=name>min_delay_ns</span></span>, <span class=param><span class=annotation><span class=type>int</span><span class=pointer-ref><span class=name>max_delay_ns</span></span><span class="param-paren paren-close"> )</span></span></span></a></li><li><a href=#void_waitForPerimeterEvent_31151db6><span><span class=returns>void</span><span class=pointer-ref><span class=name>waitForPerimeterEvent</span><span class=param-list><span class="param-paren paren-open">( </span><span class=param><span class=annotation><span class=type>uint32_t</span><span class=pointer-ref><span class=name>timeout_ms</span></span><span class="param-paren paren-close"> )</span></span></span></a></li><li><a href=#void_getPerimeterDetectInfo_4e0780c9><span><span class=returns>void</span><span class=pointer-ref><span class=name>getPerimeterDetectInfo</span><span class=param-list><span class="param-paren paren-open">( </span><span class=param><span class=annotation><span class=type>uint32_t</span><span class=pointer-ref>**</span><span class=name>timestamp_sec</span></span>, <span class=param><span class=annotation><span class=type>int</span><span class=pointer-ref>&</span><span class=name>num_timestamps</span></span><span class="param-paren paren-close"> )</span></span></span></a></li><li><a href=#void_clearPerimeterDetectEvents_f24db7dc><span><span class=returns>void</span><span class=pointer-ref><span class=name>clearPerimeterDetectEvents</span><span class=param-list><span class="param-paren paren-open">( </span><span class="param-paren paren-close">)</span></span></span></a></li><li><a href=#std::stringgetModelNumberString_f24db7dc><span><span class=returns>std::string *</span><span class=pointer-ref><span class=name>getModelNumberString</span><span class=param-list><span class="param-paren paren-open">( </span><span class="param-paren paren-close">)</span></span></span></a></li><li><a href=#std::stringgetFirmwareVersionString_f24db7dc><span><span class=returns>std::string *</span><span class=pointer-ref><span class=name>getFirmwareVersionString</span><span class=param-list><span class="param-paren paren-open">( </span><span class="param-paren paren-close">)</span></span></span></a></li><li><a href=#std::stringgetSerialNumberString_f24db7dc><span><span class=returns>std::string *</span><span class=pointer-ref><span class=name>getSerialNumberString</span><span class=param-list><span class="param-paren paren-open">( </span><span class="param-paren paren-close">)</span></span></span></a></li><li><a href=#float_getCPUTemp_f24db7dc><span><span class=returns>float</span><span class=pointer-ref><span class=name>getCPUTemp</span><span class=param-list><span class="param-paren paren-open">( </span><span class="param-paren paren-close">)</span></span></span></a></li><li><a href=#float_getRTCDrift_f24db7dc><span><span class=returns>float</span><span class=pointer-ref><span class=name>getRTCDrift</span><span class=param-list><span class="param-paren paren-open">( </span><span class="param-paren paren-close">)</span></span></span></a></li><li><a href=#float_getBatteryVoltage_f24db7dc><span><span class=returns>float</span><span class=pointer-ref><span class=name>getBatteryVoltage</span><span class=param-list><span class="param-paren paren-open">( </span><span class="param-paren paren-close">)</span></span></span></a></li><li><a href=#void_setBatteryVoltageAction_bc64806b><span><span class=returns>void</span><span class=pointer-ref><span class=name>setBatteryVoltageAction</span><span class=param-list><span class="param-paren paren-open">( </span><span class=param><span class=annotation><span class=type>ZK_THRESHOLD_ACTION_TYPE</span><span class=pointer-ref><span class=name>action</span></span><span class="param-paren paren-close"> )</span></span></span></a></li><li><a href=#void_setBatteryVoltageThreshold_c78fde9a><span><span class=returns>void</span><span class=pointer-ref><span class=name>setBatteryVoltageThreshold</span><span class=param-list><span class="param-paren paren-open">( </span><span class=param><span class=annotation><span class=type>float</span><span class=pointer-ref><span class=name>threshold</span></span><span class="param-paren paren-close"> )</span></span></span></a></li><li><a href=#void_setCPUTempAction_bc64806b><span><span class=returns>void</span><span class=pointer-ref><span class=name>setCPUTempAction</span><span class=param-list><span class="param-paren paren-open">( </span><span class=param><span class=annotation><span class=type>ZK_THRESHOLD_ACTION_TYPE</span><span class=pointer-ref><span class=name>action</span></span><span class="param-paren paren-close"> )</span></span></span></a></li><li><a href=#void_setCPULowTempThreshold_c78fde9a><span><span class=returns>void</span><span class=pointer-ref><span class=name>setCPULowTempThreshold</span><span class=param-list><span class="param-paren paren-open">( </span><span class=param><span class=annotation><span class=type>float</span><span class=pointer-ref><span class=name>threshold</span></span><span class="param-paren paren-close"> )</span></span></span></a></li><li><a href=#void_setCPUHighTempThreshold_c78fde9a><span><span class=returns>void</span><span class=pointer-ref><span class=name>setCPUHighTempThreshold</span><span class=param-list><span class="param-paren paren-open">( </span><span class=param><span class=annotation><span class=type>float</span><span class=pointer-ref><span class=name>threshold</span></span><span class="param-paren paren-close"> )</span></span></span></a></li><li><a href=#span-classmarkdown-h4-signature-include-tocspan-classreturnszkctxspanspan-classnamezkcontextspanspan><span class="markdown-h4 signature include-toc"><span class=returns>zkCTX</span><span class=name>zkContext</span></span></a></li></ul></li></ul></li></ul></nav></div><li><a class=docs-link href=https://docs.zymbit.com/api/python_docs/>Python API Documentation</a></li></ul></nav></div><main class="docs-content col-lg-11 col-xl-9"><h1>C++ API Documentation</h1><p class=lead>C++ interface to Zymkey Application Utilities Library.</p><div class=api-docs><h2 id=span-classmarkdown-h2-include-tocintroductionspan><span class="markdown-h2 include-toc">Introduction</span><a href=#span-classmarkdown-h2-include-tocintroductionspan class=anchor aria-hidden=true>#</a></h2><p>C++ interface to Zymkey Application Utilities Library.</p><p>This file contains the C API to the the Zymkey Application Utilities library. This API facilitates writing user space applications which use Zymkey to perform cryptographic operations, such as:</p><ol><li>Signing of payloads using ECDSA.</li><li>Verification of payloads that were signed using Zymkey.</li><li>Exporting the public key that matches Zymkey&#8217;s private key.</li><li>&#8220;Locking&#8221; and &#8220;unlocking&#8221; data objects.</li><li>Generating random data Additionally, there are functions for changing the i2c address (i2c units only), setting tap sensitivity and controlling the LED.</li></ol></div><div class=api-docs><h2 id=span-classmarkdown-h2-include-toctypedefsspan><span class="markdown-h2 include-toc">Typedefs</span><a href=#span-classmarkdown-h2-include-toctypedefsspan class=anchor aria-hidden=true>#</a></h2><span class=type><h3 id=span-classmarkdown-h3-signature-include-tocspan-classannotationtypedefspanspan-classtypestdvectorltuint8_tgtspanspan-classnamebytearrayspanspan><span class="markdown-h3 signature include-toc"><span class=annotation>typedef</span><span class=type>std::vector&lt;uint8_t></span><span class=name>byteArray</span></span><a href=#span-classmarkdown-h3-signature-include-tocspan-classannotationtypedefspanspan-classtypestdvectorltuint8_tgtspanspan-classnamebytearrayspanspan class=anchor aria-hidden=true>#</a></h3><div class=body><p>Typedef for a simple unsigned bytes container.</p></div></span><span class=type><h3 id=span-classmarkdown-h3-signature-include-tocspan-classannotationtypedefspanspan-classtypestdvectorltintgtspanspan-classnameintarrayspanspan><span class="markdown-h3 signature include-toc"><span class=annotation>typedef</span><span class=type>std::vector&lt;int></span><span class=name>intArray</span></span><a href=#span-classmarkdown-h3-signature-include-tocspan-classannotationtypedefspanspan-classtypestdvectorltintgtspanspan-classnameintarrayspanspan class=anchor aria-hidden=true>#</a></h3><div class=body><p>Typedef for a simple integer container.</p></div></span></div><div class=api-docs><h2 id=span-classmarkdown-h2-include-tocstructsspan><span class="markdown-h2 include-toc">Structs</span><a href=#span-classmarkdown-h2-include-tocstructsspan class=anchor aria-hidden=true>#</a></h2><div class=struct><h3 id=span-classmarkdown-h3-signature-include-tocspan-classannotationstruct-spanspan-classnameacceldataspanspan><span class="markdown-h3 signature include-toc"><span class=annotation>struct </span><span class=name>accelData</span></span><a href=#span-classmarkdown-h3-signature-include-tocspan-classannotationstruct-spanspan-classnameacceldataspanspan class=anchor aria-hidden=true>#</a></h3><div class=body><div class=description><em>#include &lt;zkAppUtilsClass.h></em><p>Structure typedef used for retrieval of accelerometer data.</p></div><div class=struct-var><h4 id=span-classmarkdown-h4-signature-include-tocspan-classreturnsdoublespanspan-classnamexspanspan><span class="markdown-h4 signature include-toc"><span class=returns>double</span><span class=name>x</span></span><a href=#span-classmarkdown-h4-signature-include-tocspan-classreturnsdoublespanspan-classnamexspanspan class=anchor aria-hidden=true>#</a></h4><div class=body></div></div><div class=struct-var><h4 id=span-classmarkdown-h4-signature-include-tocspan-classreturnsdoublespanspan-classnameyspanspan><span class="markdown-h4 signature include-toc"><span class=returns>double</span><span class=name>y</span></span><a href=#span-classmarkdown-h4-signature-include-tocspan-classreturnsdoublespanspan-classnameyspanspan class=anchor aria-hidden=true>#</a></h4><div class=body></div></div><div class=struct-var><h4 id=span-classmarkdown-h4-signature-include-tocspan-classreturnsdoublespanspan-classnamezspanspan><span class="markdown-h4 signature include-toc"><span class=returns>double</span><span class=name>z</span></span><a href=#span-classmarkdown-h4-signature-include-tocspan-classreturnsdoublespanspan-classnamezspanspan class=anchor aria-hidden=true>#</a></h4><div class=body></div></div><div class=struct-var><h4 id=span-classmarkdown-h4-signature-include-tocspan-classreturnsintspanspan-classnametapdirxspanspan><span class="markdown-h4 signature include-toc"><span class=returns>int</span><span class=name>tapDirX</span></span><a href=#span-classmarkdown-h4-signature-include-tocspan-classreturnsintspanspan-classnametapdirxspanspan class=anchor aria-hidden=true>#</a></h4><div class=body></div></div><div class=struct-var><h4 id=span-classmarkdown-h4-signature-include-tocspan-classreturnsintspanspan-classnametapdiryspanspan><span class="markdown-h4 signature include-toc"><span class=returns>int</span><span class=name>tapDirY</span></span><a href=#span-classmarkdown-h4-signature-include-tocspan-classreturnsintspanspan-classnametapdiryspanspan class=anchor aria-hidden=true>#</a></h4><div class=body></div></div><div class=struct-var><h4 id=span-classmarkdown-h4-signature-include-tocspan-classreturnsintspanspan-classnametapdirzspanspan><span class="markdown-h4 signature include-toc"><span class=returns>int</span><span class=name>tapDirZ</span></span><a href=#span-classmarkdown-h4-signature-include-tocspan-classreturnsintspanspan-classnametapdirzspanspan class=anchor aria-hidden=true>#</a></h4><div class=body></div></div></div></div></div><div class=api-docs><h2 id=span-classmarkdown-h2-include-tocclassesspan><span class="markdown-h2 include-toc">Classes</span><a href=#span-classmarkdown-h2-include-tocclassesspan class=anchor aria-hidden=true>#</a></h2><div class=class><h3 id=span-classmarkdown-h3-signature-include-tocspan-classannotationclassspanspan-classnamezkclassspanspan><span class="markdown-h3 signature include-toc"><span class=annotation>class</span><span class=name>zkClass</span></span><a href=#span-classmarkdown-h3-signature-include-tocspan-classannotationclassspanspan-classnamezkclassspanspan class=anchor aria-hidden=true>#</a></h3><div class=body><span class=source-file>zkAppUtilsClass.h</span><p>The main class.</p><div class=context><h4 class=context-name>Zymkey Context</h4><div class=method><h4 id=zkClass_f24db7dc class="markdown-h4 signature include-toc"><span><span class=name>zkClass</span><span class=param-list><span class="param-paren paren-open">( </span><span class="param-paren paren-close">)</span></span></span><a href=#zkClass_f24db7dc class=anchor aria-hidden=true>#</a></h4><div class=body><div class=description><p>Constructor: a Zymkey context is opened.</p></div><div class=exceptions><h5>Exceptions</h5><ul><li class=exc-item><span class=name>zkAppUtilsException</span>
<span class=description>upon error</span></li></ul></div></div></div><div class=method><h4 id=virtual_~zkClass_f24db7dc class="markdown-h4 signature include-toc"><span><span class=annotation>virtual</span><span class=name>~zkClass</span><span class=param-list><span class="param-paren paren-open">( </span><span class="param-paren paren-close">)</span></span></span><a href=#virtual_~zkClass_f24db7dc class=anchor aria-hidden=true>#</a></h4><div class=body><div class=description><p>Destructor: the Zymkey context is closed.</p></div></div></div><div class=context><h4 class=context-name>Random Number Generation</h4><div class=method><h4 id=void_createRandDataFile_e3444204 class="markdown-h4 signature include-toc"><span><span class=returns>void</span><span class=pointer-ref><span class=name>createRandDataFile</span><span class=param-list><span class="param-paren paren-open">( </span><span class=param><span class=annotation><span class=type>std::string</span><span class=pointer-ref>&</span><span class=name>dst_filename</span></span>, <span class=param><span class=annotation><span class=type>int</span><span class=pointer-ref><span class=name>rdata_sz</span></span><span class="param-paren paren-close"> )</span></span></span><a href=#void_createRandDataFile_e3444204 class=anchor aria-hidden=true>#</a></h4><div class=body><div class=description><p>Write random data to a file.</p></div><div class=parameters><h5>Parameters</h5><ul><li class=param-item><span class=name>dst_filename</span>
<span class=description><p>A string containing the absolute path to the file where random data is written.</p></span></li><li class=param-item><span class=name>rdata_sz</span>
<span class=description><p>The number of random bytes to generate.</p></span></li></ul></div><div class=exceptions><h5>Exceptions</h5><ul><li class=exc-item><span class=name>zkAppUtilsException</span>
<span class=description>upon error</span></li></ul></div></div></div><div class=method><h4 id=getRandBytes_745f6a2c class="markdown-h4 signature include-toc"><span><span class=pointer-ref>*</span><span class=name>getRandBytes</span><span class=param-list><span class="param-paren paren-open">( </span><span class=param><span class=annotation><span class=type>int</span><span class=pointer-ref><span class=name>rdata_sz</span></span><span class="param-paren paren-close"> )</span></span></span><a href=#getRandBytes_745f6a2c class=anchor aria-hidden=true>#</a></h4><div class=body><div class=description><p>Generate a block of random data.</p></div><div class=parameters><h5>Parameters</h5><ul><li class=param-item><span class=name>rdata_sz</span>
<span class=description><p>The number of random bytes to generate.</p></span></li></ul></div><div class=exceptions><h5>Exceptions</h5><ul><li class=exc-item><span class=name>zkAppUtilsException</span>
<span class=description>upon error</span></li></ul></div><div class=returns><h5>Returns</h5><span class=return_value><p>A pointer to container with the random bytes.</p></span></div></div></div></div><div class=context><h4 class=context-name>Lock Data</h4><div class=method><h4 id=void_lockData_ec438417 class="markdown-h4 signature include-toc"><span><span class=returns>void</span><span class=pointer-ref><span class=name>lockData</span><span class=param-list><span class="param-paren paren-open">( </span><span class=param><span class=annotation>const</span><span class=type>std::string</span><span class=pointer-ref>&</span><span class=name>src_pt_filename</span></span>, <span class=param><span class=annotation>const</span><span class=type>std::string</span><span class=pointer-ref>&</span><span class=name>dst_ct_filename</span></span>, <span class=param><span class=annotation><span class=type>bool</span><span class=pointer-ref><span class=name>use_shared_key</span> = <span class=default-val>false</span></span><span class="param-paren paren-close"> )</span></span></span><a href=#void_lockData_ec438417 class=anchor aria-hidden=true>#</a></h4><div class=body><div class=description><p>Locks data from a plaintext source file and stores locked data object to a destination file.</p></div><div class=parameters><h5>Parameters</h5><ul><li class=param-item><span class=name>src_pt_filename</span>
<span class=description><p>Absolute path to source plaintext file.</p></span></li><li class=param-item><span class=name>dst_ct_filename</span>
<span class=description><p>Absolute path to destination file which will contain locked data object.</p></span></li><li class=param-item><span class=name>use_shared_key</span>
<span class=description><p>Determines whether one-way or shared key is used for locking. Default = false.</p></span></li></ul></div><div class=exceptions><h5>Exceptions</h5><ul><li class=exc-item><span class=name>zkAppUtilsException</span>
<span class=description>upon error</span></li></ul></div></div></div><div class=method><h4 id=void_lockData_942434d8 class="markdown-h4 signature include-toc"><span><span class=returns>void</span><span class=pointer-ref><span class=name>lockData</span><span class=param-list><span class="param-paren paren-open">( </span><span class=param><span class=annotation>const</span><span class=type>zkAppUtils::byteArray</span><span class=pointer-ref>&</span><span class=name>src_pt_data</span></span>, <span class=param><span class=annotation>const</span><span class=type>std::string</span><span class=pointer-ref>&</span><span class=name>dst_ct_filename</span></span>, <span class=param><span class=annotation><span class=type>bool</span><span class=pointer-ref><span class=name>use_shared_key</span> = <span class=default-val>false</span></span><span class="param-paren paren-close"> )</span></span></span><a href=#void_lockData_942434d8 class=anchor aria-hidden=true>#</a></h4><div class=body><div class=description><p>Locks data from a plaintext source byte container and stores locked data object to a destination file.</p></div><div class=parameters><h5>Parameters</h5><ul><li class=param-item><span class=name>src_pt_data</span>
<span class=description><p>Unsigned byte container which holds source plaintext data.</p></span></li><li class=param-item><span class=name>dst_ct_filename</span>
<span class=description><p>Absolute path to destination file which will contain locked data object.</p></span></li><li class=param-item><span class=name>use_shared_key</span>
<span class=description><p>Determines whether one-way or shared key is used for locking. Default = false.</p></span></li></ul></div><div class=exceptions><h5>Exceptions</h5><ul><li class=exc-item><span class=name>zkAppUtilsException</span>
<span class=description>upon error</span></li></ul></div></div></div><div class=method><h4 id=lockData_f6af014d class="markdown-h4 signature include-toc"><span><span class=pointer-ref>*</span><span class=name>lockData</span><span class=param-list><span class="param-paren paren-open">( </span><span class=param><span class=annotation>const</span><span class=type>std::string</span><span class=pointer-ref>&</span><span class=name>src_pt_filename</span></span>, <span class=param><span class=annotation><span class=type>bool</span><span class=pointer-ref><span class=name>use_shared_key</span> = <span class=default-val>false</span></span><span class="param-paren paren-close"> )</span></span></span><a href=#lockData_f6af014d class=anchor aria-hidden=true>#</a></h4><div class=body><div class=description><p>Locks data from a plaintext source file and stores locked data object in a container of unsigned bytes.</p></div><div class=parameters><h5>Parameters</h5><ul><li class=param-item><span class=name>src_pt_filename</span>
<span class=description><p>Absolute path to source plaintext file.</p></span></li><li class=param-item><span class=name>use_shared_key</span>
<span class=description><p>Determines whether one-way or shared key is used for locking. Default = false.</p></span></li></ul></div><div class=exceptions><h5>Exceptions</h5><ul><li class=exc-item><span class=name>zkAppUtilsException</span>
<span class=description>upon error</span></li></ul></div><div class=returns><h5>Returns</h5><span class=return_value><p>Byte container with locked data.</p></span></div></div></div><div class=method><h4 id=lockData_acb5e31b class="markdown-h4 signature include-toc"><span><span class=pointer-ref>*</span><span class=name>lockData</span><span class=param-list><span class="param-paren paren-open">( </span><span class=param><span class=annotation>const</span><span class=type>zkAppUtils::byteArray</span><span class=pointer-ref>&</span><span class=name>src_pt_data</span></span>, <span class=param><span class=annotation><span class=type>bool</span><span class=pointer-ref><span class=name>use_shared_key</span> = <span class=default-val>false</span></span><span class="param-paren paren-close"> )</span></span></span><a href=#lockData_acb5e31b class=anchor aria-hidden=true>#</a></h4><div class=body><div class=description><p>Locks data from a plaintext source byte container and stores locked data object in a container of unsigned bytes.</p></div><div class=parameters><h5>Parameters</h5><ul><li class=param-item><span class=name>src_pt_data</span>
<span class=description><p>Unsigned byte container which holds source plaintext data.</p></span></li><li class=param-item><span class=name>use_shared_key</span>
<span class=description><p>Determines whether one-way or shared key is used for locking. Default = false.</p></span></li></ul></div><div class=exceptions><h5>Exceptions</h5><ul><li class=exc-item><span class=name>zkAppUtilsException</span>
<span class=description>upon error</span></li></ul></div><div class=returns><h5>Returns</h5><span class=return_value><p>Byte container with locked data.</p></span></div></div></div></div><div class=context><h4 class=context-name>Unlock Data</h4><div class=method><h4 id=void_unlockData_ec438417 class="markdown-h4 signature include-toc"><span><span class=returns>void</span><span class=pointer-ref><span class=name>unlockData</span><span class=param-list><span class="param-paren paren-open">( </span><span class=param><span class=annotation>const</span><span class=type>std::string</span><span class=pointer-ref>&</span><span class=name>src_ct_filename</span></span>, <span class=param><span class=annotation>const</span><span class=type>std::string</span><span class=pointer-ref>&</span><span class=name>dst_pt_filename</span></span>, <span class=param><span class=annotation><span class=type>bool</span><span class=pointer-ref><span class=name>use_shared_key</span> = <span class=default-val>false</span></span><span class="param-paren paren-close"> )</span></span></span><a href=#void_unlockData_ec438417 class=anchor aria-hidden=true>#</a></h4><div class=body><div class=description><p>Unocks a locked data object from source file and stores unlocked data object to a destination file.</p></div><div class=parameters><h5>Parameters</h5><ul><li class=param-item><span class=name>src_ct_filename</span>
<span class=description><p>Absolute path to source file which contains locked data object.</p></span></li><li class=param-item><span class=name>dst_pt_filename</span>
<span class=description><p>Absolute path to destination file which will contain unlocked plaintext data.</p></span></li><li class=param-item><span class=name>use_shared_key</span>
<span class=description><p>Determines whether one-way or shared key is used for locking. Default = false.</p></span></li></ul></div><div class=exceptions><h5>Exceptions</h5><ul><li class=exc-item><span class=name>zkAppUtilsException</span>
<span class=description>upon error</span></li></ul></div></div></div><div class=method><h4 id=void_unlockData_942434d8 class="markdown-h4 signature include-toc"><span><span class=returns>void</span><span class=pointer-ref><span class=name>unlockData</span><span class=param-list><span class="param-paren paren-open">( </span><span class=param><span class=annotation>const</span><span class=type>zkAppUtils::byteArray</span><span class=pointer-ref>&</span><span class=name>src_ct_data</span></span>, <span class=param><span class=annotation>const</span><span class=type>std::string</span><span class=pointer-ref>&</span><span class=name>dst_pt_filename</span></span>, <span class=param><span class=annotation><span class=type>bool</span><span class=pointer-ref><span class=name>use_shared_key</span> = <span class=default-val>false</span></span><span class="param-paren paren-close"> )</span></span></span><a href=#void_unlockData_942434d8 class=anchor aria-hidden=true>#</a></h4><div class=body><div class=description><p>Unlocks a locked data object contained in an unsigned byte container and stores plaintext data to a destination file.</p></div><div class=parameters><h5>Parameters</h5><ul><li class=param-item><span class=name>src_ct_data</span>
<span class=description><p>Unsigned byte container which holds locked data object.</p></span></li><li class=param-item><span class=name>dst_pt_filename</span>
<span class=description><p>Absolute path to destination file which will contain unlocked plaintext data.</p></span></li><li class=param-item><span class=name>use_shared_key</span>
<span class=description><p>Determines whether one-way or shared key is used for locking. Default = false.</p></span></li></ul></div><div class=exceptions><h5>Exceptions</h5><ul><li class=exc-item><span class=name>zkAppUtilsException</span>
<span class=description>upon error</span></li></ul></div></div></div><div class=method><h4 id=unlockData_f6af014d class="markdown-h4 signature include-toc"><span><span class=pointer-ref>*</span><span class=name>unlockData</span><span class=param-list><span class="param-paren paren-open">( </span><span class=param><span class=annotation>const</span><span class=type>std::string</span><span class=pointer-ref>&</span><span class=name>src_ct_filename</span></span>, <span class=param><span class=annotation><span class=type>bool</span><span class=pointer-ref><span class=name>use_shared_key</span> = <span class=default-val>false</span></span><span class="param-paren paren-close"> )</span></span></span><a href=#unlockData_f6af014d class=anchor aria-hidden=true>#</a></h4><div class=body><div class=description><p>Unlocks a locked data object from a plaintext source file and stores plaintext data in a container of unsigned bytes.</p></div><div class=parameters><h5>Parameters</h5><ul><li class=param-item><span class=name>src_ct_filename</span>
<span class=description><p>Absolute path to source file which contains locked data object.</p></span></li><li class=param-item><span class=name>use_shared_key</span>
<span class=description><p>Determines whether one-way or shared key is used for locking. Default = false.</p></span></li></ul></div><div class=exceptions><h5>Exceptions</h5><ul><li class=exc-item><span class=name>zkAppUtilsException</span>
<span class=description>upon error</span></li></ul></div><div class=returns><h5>Returns</h5><span class=return_value><p>Byte container with plaintext data.</p></span></div></div></div><div class=method><h4 id=unlockData_acb5e31b class="markdown-h4 signature include-toc"><span><span class=pointer-ref>*</span><span class=name>unlockData</span><span class=param-list><span class="param-paren paren-open">( </span><span class=param><span class=annotation>const</span><span class=type>zkAppUtils::byteArray</span><span class=pointer-ref>&</span><span class=name>src_ct_bytes</span></span>, <span class=param><span class=annotation><span class=type>bool</span><span class=pointer-ref><span class=name>use_shared_key</span> = <span class=default-val>false</span></span><span class="param-paren paren-close"> )</span></span></span><a href=#unlockData_acb5e31b class=anchor aria-hidden=true>#</a></h4><div class=body><div class=description><p>Unlocks a locked data object contained in an unsigned byte container and stores plaintext data in a container of unsigned bytes.</p></div><div class=parameters><h5>Parameters</h5><ul><li class=param-item><span class=name>src_ct_data</span>
<span class=description><p>Unsigned byte container which holds locked data object.</p></span></li><li class=param-item><span class=name>use_shared_key</span>
<span class=description><p>Determines whether one-way or shared key is used for locking. Default = false.</p></span></li></ul></div><div class=exceptions><h5>Exceptions</h5><ul><li class=exc-item><span class=name>zkAppUtilsException</span>
<span class=description>upon error</span></li></ul></div><div class=returns><h5>Returns</h5><span class=return_value><p>Byte container with plaintext data.</p></span></div></div></div></div><div class=context><h4 class=context-name>ECDSA</h4><div class=method><h4 id=genECDSASigFromDigest_067907b4 class="markdown-h4 signature include-toc"><span><span class=pointer-ref>*</span><span class=name>genECDSASigFromDigest</span><span class=param-list><span class="param-paren paren-open">( </span><span class=param><span class=annotation><span class=type>zkAppUtils::byteArray</span><span class=pointer-ref>&</span><span class=name>digest</span></span>, <span class=param><span class=annotation><span class=type>int</span><span class=pointer-ref><span class=name>slot</span> = <span class=default-val>0</span></span><span class="param-paren paren-close"> )</span></span></span><a href=#genECDSASigFromDigest_067907b4 class=anchor aria-hidden=true>#</a></h4><div class=body><div class=description><p>Generate a signature from a data digest using the Zymkey&#8217;s private key.</p></div><div class=parameters><h5>Parameters</h5><ul><li class=param-item><span class=name>digest</span>
<span class=description><p>Currently, this should be a SHA256 digest.</p></span></li><li class=param-item><span class=name>slot</span>
<span class=description><p>The key slot to use for verification.</p></span></li></ul></div><div class=exceptions><h5>Exceptions</h5><ul><li class=exc-item><span class=name>zkAppUtilsException</span>
<span class=description>upon error</span></li></ul></div><div class=returns><h5>Returns</h5><span class=return_value><p>Byte container with binary signature.</p></span></div></div></div><div class=method><h4 id=bool_verifyECDSASigFromDigest_e0555bcd class="markdown-h4 signature include-toc"><span><span class=returns>bool</span><span class=pointer-ref><span class=name>verifyECDSASigFromDigest</span><span class=param-list><span class="param-paren paren-open">( </span><span class=param><span class=annotation><span class=type>zkAppUtils::byteArray</span><span class=pointer-ref>&</span><span class=name>digest</span></span>, <span class=param><span class=annotation><span class=type>zkAppUtils::byteArray</span><span class=pointer-ref>&</span><span class=name>sig</span></span>, <span class=param><span class=annotation><span class=type>int</span><span class=pointer-ref><span class=name>pub_key_slot</span> = <span class=default-val>0</span></span>, <span class=param><span class=annotation><span class=type>bool</span><span class=pointer-ref><span class=name>pub_key_is_foreign</span> = <span class=default-val>false</span></span><span class="param-paren paren-close"> )</span></span></span><a href=#bool_verifyECDSASigFromDigest_e0555bcd class=anchor aria-hidden=true>#</a></h4><div class=body><div class=description><p>Verify a signature from a data digest using the Zymkey&#8217;s public key. The public key is not given as an input. Rather, the Zymkey uses its own copy of the private key. This insures that the public key that matches the private key is used.</p></div><div class=parameters><h5>Parameters</h5><ul><li class=param-item><span class=name>digest</span>
<span class=description><p>Currently, this should be a SHA256 digest.</p></span></li><li class=param-item><span class=name>sig</span>
<span class=description><p>The signature to verify.</p></span></li><li class=param-item><span class=name>pub_key_slot</span>
<span class=description><p>The key slot to use for verification.</p></span></li><li class=param-item><span class=name>pub_key_is_foreign</span>
<span class=description><p>If false, the normal key store is referenced. Otherwise, the foreign public key store is referenced.</p></span></li><li class=param-item><span class=name>pub_key_is_foreign</span>
<span class=description><p>If false, the normal key store is referenced. Otherwise, the foreign public key store is referenced.</p></span></li></ul></div><div class=returns><h5>Returns</h5><span class=return_value><p>true = signature verification passed, false = signature verification failed.</p></span></div></div></div></div><div class=context><h4 class=context-name>ECDH and KDF</h4><div class=method><h4 id=doRawECDH_a77442d1 class="markdown-h4 signature include-toc"><span><span class=pointer-ref>*</span><span class=name>doRawECDH</span><span class=param-list><span class="param-paren paren-open">( </span><span class=param><span class=annotation><span class=type>int</span><span class=pointer-ref><span class=name>slot</span></span>, <span class=param><span class=annotation><span class=type>zkAppUtils::byteArray</span><span class=pointer-ref>&</span><span class=name>peer_pubkey</span></span><span class="param-paren paren-close"> )</span></span></span><a href=#doRawECDH_a77442d1 class=anchor aria-hidden=true>#</a></h4><div class=body><div class=description><p>Perform a raw ECDH operation. (model >= HSM6).</p><p>Perform an ECDH operation with no Key Derivation Function (KDF). The raw pre-master secret is returned in the response. The peer public key is presented in the call.</p></div><div class=parameters><h5>Parameters</h5><ul><li class=param-item><span class=name>slot</span>
<span class=description><p>The key slot to use for the local key. If this parameter is -1, the ephemeral key is used.</p></span></li><li class=param-item><span class=name>peer_pubkey</span>
<span class=description><p>The peer public key.</p></span></li></ul></div><div class=returns><h5>Returns</h5><span class=return_value><p>Byte container with pre master secret.</p></span></div></div></div><div class=method><h4 id=doRawECDHWithIntPeerPubkey_d788e54d class="markdown-h4 signature include-toc"><span><span class=pointer-ref>*</span><span class=name>doRawECDHWithIntPeerPubkey</span><span class=param-list><span class="param-paren paren-open">( </span><span class=param><span class=annotation><span class=type>int</span><span class=pointer-ref><span class=name>slot</span></span>, <span class=param><span class=annotation><span class=type>int</span><span class=pointer-ref><span class=name>peer_pubkey_slot</span></span>, <span class=param><span class=annotation><span class=type>bool</span><span class=pointer-ref><span class=name>peer_pubkey_slot_is_foreign</span></span><span class="param-paren paren-close"> )</span></span></span><a href=#doRawECDHWithIntPeerPubkey_d788e54d class=anchor aria-hidden=true>#</a></h4><div class=body><div class=description><p>Perform a raw ECDH operation. (model >= HSM6).</p><p>Perform an ECDH operation with no Key Derivation Function (KDF). The raw pre-master secret is returned in the response. The peer public key is referenced from the zymkey internal key store.</p></div><div class=parameters><h5>Parameters</h5><ul><li class=param-item><span class=name>slot</span>
<span class=description><p>The key slot to use for the local key. If this parameter is -1, the ephemeral key is used.</p></span></li><li class=param-item><span class=name>peer_pubkey_slot</span>
<span class=description><p>The peer public key slot where the peer public key is to be found.</p></span></li><li class=param-item><span class=name>peer_pubkey_slot_is_foreign</span>
<span class=description><p>If true, the peer public key slot is found in the foreign public keyring.</p></span></li></ul></div><div class=returns><h5>Returns</h5><span class=return_value><p>Byte container with pre master secret.</p></span></div></div></div><div class=method><h4 id=doECDHAndKDF_f1769cf8 class="markdown-h4 signature include-toc"><span><span class=pointer-ref>*</span><span class=name>doECDHAndKDF</span><span class=param-list><span class="param-paren paren-open">( </span><span class=param><span class=annotation><span class=type>ZK_ECDH_KDF_TYPE</span><span class=pointer-ref><span class=name>kdf_type</span></span>, <span class=param><span class=annotation><span class=type>int</span><span class=pointer-ref><span class=name>slot</span></span>, <span class=param><span class=annotation><span class=type>zkAppUtils::byteArray</span><span class=pointer-ref>&</span><span class=name>peer_pubkey</span></span>, <span class=param><span class=annotation><span class=type>zkAppUtils::byteArray</span><span class=pointer-ref>&</span><span class=name>salt</span></span>, <span class=param><span class=annotation><span class=type>zkAppUtils::byteArray</span><span class=pointer-ref>&</span><span class=name>info</span></span>, <span class=param><span class=annotation><span class=type>int</span><span class=pointer-ref><span class=name>num_iterations</span></span>, <span class=param><span class=annotation><span class=type>int</span><span class=pointer-ref><span class=name>derived_key_sz</span></span><span class="param-paren paren-close"> )</span></span></span><a href=#doECDHAndKDF_f1769cf8 class=anchor aria-hidden=true>#</a></h4><div class=body><div class=description><p>Perform an ECDH operation plus Key Derivation Function. (model >= HSM6).</p><p>Perform an ECDH operation with Key Derivation Function (KDF). The derived key is returned in the response. The peer public key is presented in the call.</p></div><div class=parameters><h5>Parameters</h5><ul><li class=param-item><span class=name>slot</span>
<span class=description><p>The key slot to use for the local key. If this parameter is -1, the ephemeral key is used.</p></span></li><li class=param-item><span class=name>peer_pubkey</span>
<span class=description><p>The peer public key.</p></span></li><li class=param-item><span class=name>salt</span>
<span class=description><p>The salt to use for the selected KDF.</p></span></li><li class=param-item><span class=name>info</span>
<span class=description><p>The info field to use for RFC 5869. Ignored for PBKDF2.</p></span></li><li class=param-item><span class=name>num_iterations</span>
<span class=description><p>Number of iterations to carry out (PBKDF only).</p></span></li><li class=param-item><span class=name>derived_key_sz</span>
<span class=description><p>The desired number of bytes to return for the KDF. For RFC 5869, this value must be less than 8160 bytes (SHA256) or 16320 (SHA512).</p></span></li></ul></div><div class=returns><h5>Returns</h5><span class=return_value><p>Byte container with pre master secret.</p></span></div></div></div><div class=method><h4 id=doECDHAndKDFWithIntPeerPubkey_c33b0f50 class="markdown-h4 signature include-toc"><span><span class=pointer-ref>*</span><span class=name>doECDHAndKDFWithIntPeerPubkey</span><span class=param-list><span class="param-paren paren-open">( </span><span class=param><span class=annotation><span class=type>ZK_ECDH_KDF_TYPE</span><span class=pointer-ref><span class=name>kdf_type</span></span>, <span class=param><span class=annotation><span class=type>int</span><span class=pointer-ref><span class=name>slot</span></span>, <span class=param><span class=annotation><span class=type>int</span><span class=pointer-ref><span class=name>peer_pubkey_slot</span></span>, <span class=param><span class=annotation><span class=type>bool</span><span class=pointer-ref><span class=name>peer_pubkey_slot_is_foreign</span></span>, <span class=param><span class=annotation><span class=type>zkAppUtils::byteArray</span><span class=pointer-ref>&</span><span class=name>salt</span></span>, <span class=param><span class=annotation><span class=type>zkAppUtils::byteArray</span><span class=pointer-ref>&</span><span class=name>info</span></span>, <span class=param><span class=annotation><span class=type>int</span><span class=pointer-ref><span class=name>num_iterations</span></span>, <span class=param><span class=annotation><span class=type>int</span><span class=pointer-ref><span class=name>derived_key_sz</span></span><span class="param-paren paren-close"> )</span></span></span><a href=#doECDHAndKDFWithIntPeerPubkey_c33b0f50 class=anchor aria-hidden=true>#</a></h4><div class=body><div class=description><p>Perform an ECDH operation plus Key Derivation Function. (model >= HSM6).</p><p>Perform an ECDH operation with Key Derivation Function (KDF). The derived key is returned in the response. The peer public key is referenced from the zymkey internal key store.</p></div><div class=parameters><h5>Parameters</h5><ul><li class=param-item><span class=name>slot</span>
<span class=description><p>The key slot to use for the local key. If this parameter is -1, the ephemeral key is used.</p></span></li><li class=param-item><span class=name>peer_pubkey_slot</span>
<span class=description><p>The peer public key slot where the peer public key is to be found.</p></span></li><li class=param-item><span class=name>peer_pubkey_slot_is_foreign</span>
<span class=description><p>If true, the peer public key slot is found in the foreign public keyring.</p></span></li><li class=param-item><span class=name>salt</span>
<span class=description><p>The salt to use for the selected KDF.</p></span></li><li class=param-item><span class=name>info</span>
<span class=description><p>The info field to use for RFC 5869. Ignored for PBKDF2.</p></span></li><li class=param-item><span class=name>num_iterations</span>
<span class=description><p>Number of iterations to carry out (PBKDF only).</p></span></li><li class=param-item><span class=name>derived_key_sz</span>
<span class=description><p>The desired number of bytes to return for the KDF. For RFC 5869, this value must be less than 8160 bytes (SHA256) or 16320 (SHA512).</p></span></li></ul></div><div class=returns><h5>Returns</h5><span class=return_value><p>Byte container with pre master secret.</p></span></div></div></div></div><div class=context><h4 class=context-name>Key Management</h4><div class=method><h4 id=void_saveECDSAPubKey2File_c6fe22fc class="markdown-h4 signature include-toc"><span><span class=returns>void</span><span class=pointer-ref><span class=name>saveECDSAPubKey2File</span><span class=param-list><span class="param-paren paren-open">( </span><span class=param><span class=annotation><span class=type>std::string</span><span class=pointer-ref><span class=name>dst_filename</span></span>, <span class=param><span class=annotation><span class=type>int</span><span class=pointer-ref><span class=name>slot</span> = <span class=default-val>0</span></span><span class="param-paren paren-close"> )</span></span></span><a href=#void_saveECDSAPubKey2File_c6fe22fc class=anchor aria-hidden=true>#</a></h4><div class=body><div class=description><p>[DEPRECATED] Use exportPubKey2File. Save the public key that matches the Zymkey&#8217;s private key into a PEM formatted file. Mainly used for Certificate Signing Request (CSR) generation.</p></div><div class=parameters><h5>Parameters</h5><ul><li class=param-item><span class=name>dst_filename</span>
<span class=description><p>Absolute location where the PEM formatted file is to be stored.</p></span></li><li class=param-item><span class=name>slot</span>
<span class=description><p>Reserved for future use.</p></span></li></ul></div><div class=exceptions><h5>Exceptions</h5><ul><li class=exc-item><span class=name>zkAppUtilsException</span>
<span class=description>upon error</span></li></ul></div></div></div><div class=method><h4 id=void_exportPubKey2File_c75fa5f6 class="markdown-h4 signature include-toc"><span><span class=returns>void</span><span class=pointer-ref><span class=name>exportPubKey2File</span><span class=param-list><span class="param-paren paren-open">( </span><span class=param><span class=annotation><span class=type>std::string</span><span class=pointer-ref><span class=name>dst_filename</span></span>, <span class=param><span class=annotation><span class=type>int</span><span class=pointer-ref><span class=name>pubkey_slot</span> = <span class=default-val>0</span></span>, <span class=param><span class=annotation><span class=type>bool</span><span class=pointer-ref><span class=name>slot_is_foreign</span> = <span class=default-val>false</span></span><span class="param-paren paren-close"> )</span></span></span><a href=#void_exportPubKey2File_c75fa5f6 class=anchor aria-hidden=true>#</a></h4><div class=body><div class=description><p>Store the public key to a host file in PEM format.</p><p>This function is useful for generating Certificate Signing Requests (CSR).</p></div><div class=parameters><h5>Parameters</h5><ul><li class=param-item><span class=name>dst_filename</span>
<span class=description><p>Filename where PEM formatted public key is to be stored.</p></span></li><li class=param-item><span class=name>pubkey_slot</span>
<span class=description><p>The key slot to retrieve. Zymkey and HSM4 have slots 0, 1, and 2.</p></span></li><li class=param-item><span class=name>slot_is_foreign</span>
<span class=description><p>If true, designates the pubkey slot to come from the foreign keystore. (model >= HSM6).</p></span></li></ul></div><div class=exceptions><h5>Exceptions</h5><ul><li class=exc-item><span class=name>zkAppUtilsException</span>
<span class=description>upon error</span></li></ul></div></div></div><div class=method><h4 id=getECDSAPubKey_baa17d4d class="markdown-h4 signature include-toc"><span><span class=pointer-ref>*</span><span class=name>getECDSAPubKey</span><span class=param-list><span class="param-paren paren-open">( </span><span class=param><span class=annotation><span class=type>int</span><span class=pointer-ref><span class=name>slot</span> = <span class=default-val>0</span></span><span class="param-paren paren-close"> )</span></span></span><a href=#getECDSAPubKey_baa17d4d class=anchor aria-hidden=true>#</a></h4><div class=body><div class=description><p>[DEPRECATED] Use exportPubKey. Get a container of bytes which contains the ECDSA public key.</p></div><div class=parameters><h5>Parameters</h5><ul><li class=param-item><span class=name>slot</span>
<span class=description><p>Reserved for future use.</p></span></li></ul></div><div class=exceptions><h5>Exceptions</h5><ul><li class=exc-item><span class=name>zkAppUtilsException</span>
<span class=description>upon error</span></li></ul></div><div class=returns><h5>Returns</h5><span class=return_value><p>Byte container with binary public key.</p></span></div></div></div><div class=method><h4 id=exportPubKey_2bc8a24f class="markdown-h4 signature include-toc"><span><span class=pointer-ref>*</span><span class=name>exportPubKey</span><span class=param-list><span class="param-paren paren-open">( </span><span class=param><span class=annotation><span class=type>int</span><span class=pointer-ref><span class=name>pubkey_slot</span> = <span class=default-val>0</span></span>, <span class=param><span class=annotation><span class=type>bool</span><span class=pointer-ref><span class=name>slot_is_foreign</span> = <span class=default-val>0</span></span><span class="param-paren paren-close"> )</span></span></span><a href=#exportPubKey_2bc8a24f class=anchor aria-hidden=true>#</a></h4><div class=body><div class=description><p>Gets the public key and stores in a byte array created by this function.</p></div><div class=parameters><h5>Parameters</h5><ul><li class=param-item><span class=name>pubkey_slot</span>
<span class=description><p>The key slot to retrieve. Zymkey and HSM4 have slots 0, 1, and 2.</p></span></li><li class=param-item><span class=name>slot_is_foreign</span>
<span class=description><p>If true, designates the pubkey slot to come from the foreign keystore. (model >= HSM6).</p></span></li></ul></div><div class=exceptions><h5>Exceptions</h5><ul><li class=exc-item><span class=name>zkAppUtilsException</span>
<span class=description>upon error</span></li></ul></div></div></div><div class=method><h4 id=getAllocSlotsList_aae7e3e9 class="markdown-h4 signature include-toc"><span><span class=pointer-ref>*</span><span class=name>getAllocSlotsList</span><span class=param-list><span class="param-paren paren-open">( </span><span class=param><span class=annotation><span class=type>bool</span><span class=pointer-ref><span class=name>foreign_key_pool</span></span><span class="param-paren paren-close"> )</span></span></span><a href=#getAllocSlotsList_aae7e3e9 class=anchor aria-hidden=true>#</a></h4><div class=body><div class=description><p>Get the list of allocated keys. (model >= HSM6).</p><p>This function returns a list of all allocated key slots.</p></div><div class=parameters><h5>Parameters</h5><ul><li class=param-item><span class=name>foreign_key_pool</span>
<span class=description><p>(input) if true, retrieve allocation list of the foreign keys.</p></span></li></ul></div><div class=returns><h5>Returns</h5><span class=return_value><p>Array of the allocated keys.</p></span></div></div></div><div class=method><h4 id=int_storeForeignPubKey_607a7919 class="markdown-h4 signature include-toc"><span><span class=returns>int</span><span class=pointer-ref><span class=name>storeForeignPubKey</span><span class=param-list><span class="param-paren paren-open">( </span><span class=param><span class=annotation><span class=type>ZK_EC_KEY_TYPE</span><span class=pointer-ref><span class=name>pk_type</span></span>, <span class=param><span class=annotation><span class=type>zkAppUtils::byteArray</span><span class=pointer-ref>&</span><span class=name>pk</span></span><span class="param-paren paren-close"> )</span></span></span><a href=#int_storeForeignPubKey_607a7919 class=anchor aria-hidden=true>#</a></h4><div class=body><div class=description><p>Store a new foreign public key in Zymkey. (model >= HSM6).</p><p>This function stores a new foreign public key in the Zymkey public key ring. This public key can be used for signature verification in use cases where it is desirable to hide the public key.</p></div><div class=parameters><h5>Parameters</h5><ul><li class=param-item><span class=name>pk_type</span>
<span class=description><p>The type of the public key. {ZK_NISTP256, ZK_SECP256R1 = ZK_NISTP256, ZK_SECP256K1}.</p></span></li><li class=param-item><span class=name>pk</span>
<span class=description><p>Public key to store.</p></span></li></ul></div><div class=exceptions><h5>Exceptions</h5><ul><li class=exc-item><span class=name>zkAppUtilsException</span>
<span class=description>upon error</span></li></ul></div><div class=returns><h5>Returns</h5><span class=return_value><p>Allocated slot number in foreign key store, less than 0 for failure.</p></span></div></div></div><div class=method><h4 id=void_disablePubKeyExport_9a723be9 class="markdown-h4 signature include-toc"><span><span class=returns>void</span><span class=pointer-ref><span class=name>disablePubKeyExport</span><span class=param-list><span class="param-paren paren-open">( </span><span class=param><span class=annotation><span class=type>int</span><span class=pointer-ref><span class=name>pubkey_slot</span></span>, <span class=param><span class=annotation><span class=type>bool</span><span class=pointer-ref><span class=name>slot_is_foreign</span> = <span class=default-val>false</span></span><span class="param-paren paren-close"> )</span></span></span><a href=#void_disablePubKeyExport_9a723be9 class=anchor aria-hidden=true>#</a></h4><div class=body><div class=description><p>Prevent a public key from being exported to the host. (model >= HSM6).</p><p>This function prevents the public key at the specified slot from being exported to the host using the API zkExportPubKey.</p></div><div class=parameters><h5>Parameters</h5><ul><li class=param-item><span class=name>pubkey_slot</span>
<span class=description><p>The key slot to disable pubkey export on.</p></span></li><li class=param-item><span class=name>slot_is_foreign</span>
<span class=description><p>The slot parameter refers to a slot in the foreign keyring.</p></span></li></ul></div><div class=exceptions><h5>Exceptions</h5><ul><li class=exc-item><span class=name>zkAppUtilsException</span>
<span class=description>upon error</span></li></ul></div></div></div><div class=method><h4 id=int_genKeyPair_a92324d5 class="markdown-h4 signature include-toc"><span><span class=returns>int</span><span class=pointer-ref><span class=name>genKeyPair</span><span class=param-list><span class="param-paren paren-open">( </span><span class=param><span class=annotation><span class=type>ZK_EC_KEY_TYPE</span><span class=pointer-ref><span class=name>type</span></span><span class="param-paren paren-close"> )</span></span></span><a href=#int_genKeyPair_a92324d5 class=anchor aria-hidden=true>#</a></h4><div class=body><div class=description><p>Generate a new persistent key pair. (model >= HSM6).</p><p>This function generates a new key pair of the specified type and store it persistently. This key pair cannot be used as part of the zymkey&#8217;s digital wallet operations.</p></div><div class=parameters><h5>Parameters</h5><ul><li class=param-item><span class=name>type</span>
<span class=description><p>The type of key to generate (ZK_EC_KEY_TYPE). {ZK_NISTP256, ZK_SECP256R1 = ZK_NISTP256, ZK_SECP256K1}.</p></span></li></ul></div><div class=exceptions><h5>Exceptions</h5><ul><li class=exc-item><span class=name>zkAppUtilsException</span>
<span class=description>upon error</span></li></ul></div><div class=returns><h5>Returns</h5><span class=return_value><p>Allocated slot number if successful, less than 0 for failure.</p></span></div></div></div><div class=method><h4 id=void_genEphemeralKeyPair_a92324d5 class="markdown-h4 signature include-toc"><span><span class=returns>void</span><span class=pointer-ref><span class=name>genEphemeralKeyPair</span><span class=param-list><span class="param-paren paren-open">( </span><span class=param><span class=annotation><span class=type>ZK_EC_KEY_TYPE</span><span class=pointer-ref><span class=name>type</span></span><span class="param-paren paren-close"> )</span></span></span><a href=#void_genEphemeralKeyPair_a92324d5 class=anchor aria-hidden=true>#</a></h4><div class=body><div class=description><p>Generate an ephemeral key pair. (model >= HSM6).</p><p>This function generates an ephemeral key pair of the specified type. Ephemeral key pairs are useful when performing ECDH for time-of-flight encryption. Only one ephemeral key slot is available and is not persistent between reboots.</p></div><div class=parameters><h5>Parameters</h5><ul><li class=param-item><span class=name>type</span>
<span class=description><p>The type of key to generate (ZK_EC_KEY_TYPE). {ZK_NISTP256, ZK_SECP256R1 = ZK_NISTP256, ZK_SECP256K1}.</p></span></li></ul></div><div class=exceptions><h5>Exceptions</h5><ul><li class=exc-item><span class=name>zkAppUtilsException</span>
<span class=description>upon error</span></li></ul></div></div></div><div class=method><h4 id=void_removeKey_ac3a53a7 class="markdown-h4 signature include-toc"><span><span class=returns>void</span><span class=pointer-ref><span class=name>removeKey</span><span class=param-list><span class="param-paren paren-open">( </span><span class=param><span class=annotation><span class=type>int</span><span class=pointer-ref><span class=name>slot</span></span>, <span class=param><span class=annotation><span class=type>bool</span><span class=pointer-ref><span class=name>slot_is_foreign</span> = <span class=default-val>false</span></span><span class="param-paren paren-close"> )</span></span></span><a href=#void_removeKey_ac3a53a7 class=anchor aria-hidden=true>#</a></h4><div class=body><div class=description><p>Remove a key pair or a foreign public key. (model >= HSM6).</p><p>This function deletes a key pair or a foreign public key from persistent storage.</p></div><div class=parameters><h5>Parameters</h5><ul><li class=param-item><span class=name>slot</span>
<span class=description><p>The slot.</p></span></li><li class=param-item><span class=name>slot_is_foreign</span>
<span class=description><p>The slot parameter refers to a slot in the foreign keyring.</p></span></li></ul></div><div class=exceptions><h5>Exceptions</h5><ul><li class=exc-item><span class=name>zkAppUtilsException</span>
<span class=description>upon error</span></li></ul></div></div></div><div class=method><h4 id=void_invalidateEphemeralKey_f24db7dc class="markdown-h4 signature include-toc"><span><span class=returns>void</span><span class=pointer-ref><span class=name>invalidateEphemeralKey</span><span class=param-list><span class="param-paren paren-open">( </span><span class="param-paren paren-close">)</span></span></span><a href=#void_invalidateEphemeralKey_f24db7dc class=anchor aria-hidden=true>#</a></h4><div class=body><div class=description><p>Invalidate the ephemeral key. (model >= HSM6).</p><p>This function invalidates the ephemeral key.</p></div><div class=exceptions><h5>Exceptions</h5><ul><li class=exc-item><span class=name>zkAppUtilsException</span>
<span class=description>upon error</span></li></ul></div></div></div></div><div class=context><h4 class=context-name>Digital Wallet (BIP32/39/44)</h4><div class=method><h4 id=int_genBIP32WalletMasterSeed_05540bde class="markdown-h4 signature include-toc"><span><span class=returns>int</span><span class=pointer-ref><span class=name>genBIP32WalletMasterSeed</span><span class=param-list><span class="param-paren paren-open">( </span><span class=param><span class=annotation><span class=type>ZK_EC_KEY_TYPE</span><span class=pointer-ref><span class=name>type</span></span>, <span class=param><span class=annotation><span class=type>std::string</span><span class=pointer-ref>&</span><span class=name>wallet_name</span></span>, <span class=param><span class=annotation><span class=type>zkAppUtils::byteArray</span><span class=pointer-ref>&</span><span class=name>master_generator_key</span></span><span class="param-paren paren-close"> )</span></span></span><a href=#int_genBIP32WalletMasterSeed_05540bde class=anchor aria-hidden=true>#</a></h4><div class=body><div class=description><p>Generate a BIP32 master seed to start a new blockchain wallet. (model >= HSM6).</p><p>This function generates a new blockchain master seed for creating a new wallet per BIP32.</p></div><div class=parameters><h5>Parameters</h5><ul><li class=param-item><span class=name>type</span>
<span class=description><p>The type of key to generate (ZK_EC_KEY_TYPE). {ZK_NISTP256, ZK_SECP256R1 = ZK_NISTP256, ZK_SECP256K1}.</p></span></li><li class=param-item><span class=name>wallet_name</span>
<span class=description><p>An ASCII string which contains the name of the wallet.</p></span></li><li class=param-item><span class=name>master_generator_key</span>
<span class=description><p>The master generator key used to help generate the master seed.</p></span></li></ul></div><div class=exceptions><h5>Exceptions</h5><ul><li class=exc-item><span class=name>zkAppUtilsException</span>
<span class=description>upon error</span></li></ul></div><div class=returns><h5>Returns</h5><span class=return_value><p>Allocated slot number if successful, less than 0 for failure.</p></span></div></div></div><div class=method><h4 id=std::stringgenBIP39WalletMasterSeed_6cde3522 class="markdown-h4 signature include-toc"><span><span class=returns>std::string <em></span><span class=pointer-ref><span class=name>genBIP39WalletMasterSeed</span><span class=param-list><span class="param-paren paren-open">( </span><span class=param><span class=annotation><span class=type>ZK_EC_KEY_TYPE</span><span class=pointer-ref><span class=name>type</span></span>, <span class=param><span class=annotation><span class=type>std::string</span><span class=pointer-ref>&</span><span class=name>wallet_name</span></span>, <span class=param><span class=annotation><span class=type>zkAppUtils::byteArray</span><span class=pointer-ref>&</span><span class=name>master_generator_key</span></span>, <span class=param><span class=annotation><span class=type>int</span><span class=pointer-ref></em></span><span class=name>slot_num</span></span><span class="param-paren paren-close"> )</span></span></span><a href=#std::stringgenBIP39WalletMasterSeed_6cde3522 class=anchor aria-hidden=true>#</a></h4><div class=body><div class=description><p>Generate a BIP39 master seed to start a new blockchain wallet. (model >= HSM6).</p><p>This function generates a new blockchain master seed for creating a new wallet per BIP39.</p></div><div class=parameters><h5>Parameters</h5><ul><li class=param-item><span class=name>type</span>
<span class=description><p>The type of key to generate (ZK_EC_KEY_TYPE). {ZK_NISTP256, ZK_SECP256R1 = ZK_NISTP256, ZK_SECP256K1}.</p></span></li><li class=param-item><span class=name>wallet_name</span>
<span class=description><p>An ASCII string which contains the name of the wallet.</p></span></li><li class=param-item><span class=name>master_generator_key</span>
<span class=description><p>The master generator key used to help generate the master seed.</p></span></li><li class=param-item><span class=name>(output)</span>
<span class=description><p>Allocated slot number if successful.</p></span></li></ul></div><div class=returns><h5>Returns</h5><span class=return_value><p>A pointer to the bip39 mnemonic sentence.The string is null terminated and encoded in UTF-8 NFKD from the BIP39 Enlish dictionary.</p></span></div></div></div><div class=method><h4 id=int_genWalletChildKey_7b498800 class="markdown-h4 signature include-toc"><span><span class=returns>int</span><span class=pointer-ref><span class=name>genWalletChildKey</span><span class=param-list><span class="param-paren paren-open">( </span><span class=param><span class=annotation><span class=type>int</span><span class=pointer-ref><span class=name>parent_key_slot</span></span>, <span class=param><span class=annotation><span class=type>uint32_t</span><span class=pointer-ref><span class=name>index</span></span>, <span class=param><span class=annotation><span class=type>bool</span><span class=pointer-ref><span class=name>is_hardened</span></span><span class="param-paren paren-close"> )</span></span></span><a href=#int_genWalletChildKey_7b498800 class=anchor aria-hidden=true>#</a></h4><div class=body><div class=description><p>Generate child key from a parent key in a blockchain wallet . (model >= HSM6).</p><p>This function generates a new child key descendent from a specified parent key in a wallet.</p></div><div class=parameters><h5>Parameters</h5><ul><li class=param-item><span class=name>parent_key_slot</span>
<span class=description><p>The parent key slot to base the child key derivation on.</p></span></li><li class=param-item><span class=name>index</span>
<span class=description><p>The index of the child seed. This determines the node address as well as the outcome of the key generation.</p></span></li><li class=param-item><span class=name>is_hardened</span>
<span class=description><p>If true, a hardened key is generated.</p></span></li></ul></div><div class=exceptions><h5>Exceptions</h5><ul><li class=exc-item><span class=name>zkAppUtilsException</span>
<span class=description>upon error</span></li></ul></div><div class=returns><h5>Returns</h5><span class=return_value><p>Allocated slot number if successful, less than 0 for failure.</p></span></div></div></div><div class=method><h4 id=int_restoreWalletMasterSeedFromBIP39Mnemonic_2b185ae7 class="markdown-h4 signature include-toc"><span><span class=returns>int</span><span class=pointer-ref><span class=name>restoreWalletMasterSeedFromBIP39Mnemonic</span><span class=param-list><span class="param-paren paren-open">( </span><span class=param><span class=annotation><span class=type>ZK_EC_KEY_TYPE</span><span class=pointer-ref><span class=name>type</span></span>, <span class=param><span class=annotation><span class=type>std::string</span><span class=pointer-ref>&</span><span class=name>wallet_name</span></span>, <span class=param><span class=annotation><span class=type>zkAppUtils::byteArray</span><span class=pointer-ref>&</span><span class=name>master_generator_key</span></span>, <span class=param><span class=annotation><span class=type>std::string</span><span class=pointer-ref>&</span><span class=name>bip39_mnemonic</span></span><span class="param-paren paren-close"> )</span></span></span><a href=#int_restoreWalletMasterSeedFromBIP39Mnemonic_2b185ae7 class=anchor aria-hidden=true>#</a></h4><div class=body><div class=description><p>Restore a master seed from a BIP39 mnemonic and a master generator key. (model >= HSM6).</p><p>This function restores a wallet master seed from a supplied BIP39 mnemonic string and a master generator key.</p></div><div class=parameters><h5>Parameters</h5><ul><li class=param-item><span class=name>type</span>
<span class=description><p>The type of key to generate (ZK_KEY_TYPE). {ZK_NISTP256, ZK_SECP256R1 = ZK_NISTP256, ZK_SECP256K1}.</p></span></li><li class=param-item><span class=name>wallet_name</span>
<span class=description><p>An ASCII string which contains the name of the wallet.</p></span></li><li class=param-item><span class=name>master_generator_key</span>
<span class=description><p>The master generator key used to help generate the master seed.</p></span></li><li class=param-item><span class=name>bip39_mnemonic</span>
<span class=description><p>The bip39_mnemonic string, null terminated and UTF-8 NFKD encoded from the BIP39 English dictionary.</p></span></li></ul></div><div class=exceptions><h5>Exceptions</h5><ul><li class=exc-item><span class=name>zkAppUtilsException</span>
<span class=description>upon error</span></li></ul></div><div class=returns><h5>Returns</h5><span class=return_value><p>Allocated slot number if successful, less than 0 for failure.</p></span></div></div></div><div class=method><h4 id=int_getWalletNodeAddrFromKeySlot_93c3b698 class="markdown-h4 signature include-toc"><span><span class=returns>int</span><span class=pointer-ref><span class=name>getWalletNodeAddrFromKeySlot</span><span class=param-list><span class="param-paren paren-open">( </span><span class=param><span class=annotation><span class=type>int</span><span class=pointer-ref><span class=name>slot</span></span>, <span class=param><span class=annotation><span class=type>std::string</span><span class=pointer-ref><em></span><span class=name>out_node_addr</span></span>, <span class=param><span class=annotation><span class=type>std::string</span><span class=pointer-ref></em></span><span class=name>out_wallet_name</span> = <span class=default-val>NULL</span></span><span class="param-paren paren-close"> )</span></span></span><a href=#int_getWalletNodeAddrFromKeySlot_93c3b698 class=anchor aria-hidden=true>#</a></h4><div class=body><div class=description><p>Derive the node address from a key slot number. (model >= HSM6).</p><p>This function derives a node address from an input key slot number.</p></div><div class=parameters><h5>Parameters</h5><ul><li class=param-item><span class=name>slot</span>
<span class=description><p>(input) A key slot number that is part of a digital wallet.</p></span></li><li class=param-item><span class=name>out_node_addr</span>
<span class=description><p>(output) A pointer to a string which will contain the node address in ASCII.</p></span></li><li class=param-item><span class=name>wallet_name</span>
<span class=description><p>(output) A pointer to a string which will contain the wallet name in ASCII. If NULL, this parameter will not be retrieved.</p></span></li></ul></div><div class=exceptions><h5>Exceptions</h5><ul><li class=exc-item><span class=name>zkAppUtilsException</span>
<span class=description>upon error</span></li></ul></div><div class=returns><h5>Returns</h5><span class=return_value><p>The master seed key slot.</p></span></div></div></div><div class=method><h4 id=int_getWalletKeySlotFromNodeAddr_f97fd4f4 class="markdown-h4 signature include-toc"><span><span class=returns>int</span><span class=pointer-ref><span class=name>getWalletKeySlotFromNodeAddr</span><span class=param-list><span class="param-paren paren-open">( </span><span class=param><span class=annotation><span class=type>std::string</span><span class=pointer-ref>&</span><span class=name>node_addr</span></span>, <span class=param><span class=annotation><span class=type>std::string</span><span class=pointer-ref>&</span><span class=name>wallet_name</span></span>, <span class=param><span class=annotation><span class=type>int</span><span class=pointer-ref><span class=name>master_seed_slot</span></span><span class="param-paren paren-close"> )</span></span></span><a href=#int_getWalletKeySlotFromNodeAddr_f97fd4f4 class=anchor aria-hidden=true>#</a></h4><div class=body><div class=description><p>Derive the slot address from a node address. (model >= HSM6).</p><p>This function returns the slot number associated with a given node address.</p></div><div class=parameters><h5>Parameters</h5><ul><li class=param-item><span class=name>node_addr</span>
<span class=description><p>(input) A pointer which contains the node address in ASCII.</p></span></li><li class=param-item><span class=name>wallet_name</span>
<span class=description><p>(input) A pointer which contains the wallet name in ASCII, used to identify the wallet identity. If desired, this parameter can be NULL and the master_seed_slot parameter can be specified instead.</p></span></li><li class=param-item><span class=name>master_seed_slot</span>
<span class=description><p>(input) The master seed slot. Can be used to specify the wallet identity instead of the wallet name.</p></span></li></ul></div><div class=exceptions><h5>Exceptions</h5><ul><li class=exc-item><span class=name>zkAppUtilsException</span>
<span class=description>upon error</span></li></ul></div><div class=returns><h5>Returns</h5><span class=return_value><p>The associated key slot.</p></span></div></div></div></div><div class=context><h4 class=context-name>LED Control</h4><div class=method><h4 id=void_ledOff_f24db7dc class="markdown-h4 signature include-toc"><span><span class=returns>void</span><span class=pointer-ref><span class=name>ledOff</span><span class=param-list><span class="param-paren paren-open">( </span><span class="param-paren paren-close">)</span></span></span><a href=#void_ledOff_f24db7dc class=anchor aria-hidden=true>#</a></h4><div class=body><div class=description><p>Turn LED off.</p></div><div class=exceptions><h5>Exceptions</h5><ul><li class=exc-item><span class=name>zkAppUtilsException</span>
<span class=description>upon error</span></li></ul></div></div></div><div class=method><h4 id=void_ledOn_f24db7dc class="markdown-h4 signature include-toc"><span><span class=returns>void</span><span class=pointer-ref><span class=name>ledOn</span><span class=param-list><span class="param-paren paren-open">( </span><span class="param-paren paren-close">)</span></span></span><a href=#void_ledOn_f24db7dc class=anchor aria-hidden=true>#</a></h4><div class=body><div class=description><p>Turn LED on.</p></div><div class=exceptions><h5>Exceptions</h5><ul><li class=exc-item><span class=name>zkAppUtilsException</span>
<span class=description>upon error</span></li></ul></div></div></div><div class=method><h4 id=void_ledFlash_1c61cd28 class="markdown-h4 signature include-toc"><span><span class=returns>void</span><span class=pointer-ref><span class=name>ledFlash</span><span class=param-list><span class="param-paren paren-open">( </span><span class=param><span class=annotation><span class=type>uint32_t</span><span class=pointer-ref><span class=name>on_ms</span></span>, <span class=param><span class=annotation><span class=type>uint32_t</span><span class=pointer-ref><span class=name>off_ms</span> = <span class=default-val>0</span></span>, <span class=param><span class=annotation><span class=type>uint32_t</span><span class=pointer-ref><span class=name>num_flashes</span> = <span class=default-val>0</span></span><span class="param-paren paren-close"> )</span></span></span><a href=#void_ledFlash_1c61cd28 class=anchor aria-hidden=true>#</a></h4><div class=body><div class=description><p>Flash LED a certain number of times.</p></div><div class=parameters><h5>Parameters</h5><ul><li class=param-item><span class=name>on_ms</span>
<span class=description><p>Number of milliseconds that the LED will be on during a flash cycle.</p></span></li><li class=param-item><span class=name>off_ms</span>
<span class=description><p>Number of milliseconds that the LED will be off during a flash cycle.</p></span></li><li class=param-item><span class=name>num_flashes</span>
<span class=description><p>Number of flash cycles to execute. 0 = infinite.</p></span></li></ul></div><div class=exceptions><h5>Exceptions</h5><ul><li class=exc-item><span class=name>zkAppUtilsException</span>
<span class=description>upon error</span></li></ul></div></div></div></div><div class=context><h4 class=context-name>Administrative</h4><div class=method><h4 id=void_setI2CAddr_b2a46129 class="markdown-h4 signature include-toc"><span><span class=returns>void</span><span class=pointer-ref><span class=name>setI2CAddr</span><span class=param-list><span class="param-paren paren-open">( </span><span class=param><span class=annotation><span class=type>int</span><span class=pointer-ref><span class=name>addr</span></span><span class="param-paren paren-close"> )</span></span></span><a href=#void_setI2CAddr_b2a46129 class=anchor aria-hidden=true>#</a></h4><div class=body><div class=description><p>Sets the i2c address (i2c versions only). Used in case of i2c bus device address conflict.</p></div><div class=parameters><h5>Parameters</h5><ul><li class=param-item><span class=name>addr</span>
<span class=description><p>The i2c address to set. Upon successful change, the Zymkey will reset itself. However, if the address is the same as the current setting, the Zymkey will not reset. Valid address ranges are 0x30 - 0x37 and 0x60 - 0x67.</p></span></li></ul></div><div class=exceptions><h5>Exceptions</h5><ul><li class=exc-item><span class=name>zkAppUtilsException</span>
<span class=description>upon error</span></li></ul></div></div></div></div><div class=context><h4 class=context-name>Time</h4><div class=method><h4 id=uint32t_getTime_64df3f4b class="markdown-h4 signature include-toc"><span><span class=returns>uint32_t</span><span class=pointer-ref><span class=name>getTime</span><span class=param-list><span class="param-paren paren-open">( </span><span class=param><span class=annotation><span class=type>bool</span><span class=pointer-ref><span class=name>precise_time</span> = <span class=default-val>false</span></span><span class="param-paren paren-close"> )</span></span></span><a href=#uint32t_getTime_64df3f4b class=anchor aria-hidden=true>#</a></h4><div class=body><div class=description><p>Get current GMT time.</p><p>This method is called to get the time directly from a Zymkey&#8217;s Real Time Clock (RTC).</p></div><div class=parameters><h5>Parameters</h5><ul><li class=param-item><span class=name>precise_time</span>
<span class=description><p>(input) If true, this API returns the time after the next second falls. This means that the caller could be blocked up to one second. If false, the API returns immediately with the current time reading.</p></span></li></ul></div><div class=exceptions><h5>Exceptions</h5><ul><li class=exc-item><span class=name>zkAppUtilsException</span>
<span class=description>upon error</span></li></ul></div><div class=returns><h5>Returns</h5><span class=return_value><p>The time in seconds from the epoch (Jan. 1, 1970).</p></span></div></div></div></div><div class=context><h4 class=context-name>Accelerometer</h4><div class=method><h4 id=void_setTapSensitivity_d4990882 class="markdown-h4 signature include-toc"><span><span class=returns>void</span><span class=pointer-ref><span class=name>setTapSensitivity</span><span class=param-list><span class="param-paren paren-open">( </span><span class=param><span class=annotation><span class=type>float</span><span class=pointer-ref><span class=name>pct</span></span>, <span class=param><span class=annotation><span class=type>ZK_ACCEL_AXIS_TYPE</span><span class=pointer-ref><span class=name>axis</span> = <span class=default-val>ZK_ACCEL_AXIS_ALL</span></span><span class="param-paren paren-close"> )</span></span></span><a href=#void_setTapSensitivity_d4990882 class=anchor aria-hidden=true>#</a></h4><div class=body><div class=description><p>Sets the sensitivity of the tap detection as a percentage for an individual axis or all axes.</p></div><div class=parameters><h5>Parameters</h5><ul><li class=param-item><span class=name>pct</span>
<span class=description><p>Sensitivity expressed in percentage. 0% = off, 100% = maximum.</p></span></li><li class=param-item><span class=name>axis</span>
<span class=description><p>X, Y, Z or all (default).</p></span></li></ul></div><div class=exceptions><h5>Exceptions</h5><ul><li class=exc-item><span class=name>zkAppUtilsException</span>
<span class=description>upon error</span></li></ul></div></div></div><div class=method><h4 id=void_waitForTap_31151db6 class="markdown-h4 signature include-toc"><span><span class=returns>void</span><span class=pointer-ref><span class=name>waitForTap</span><span class=param-list><span class="param-paren paren-open">( </span><span class=param><span class=annotation><span class=type>uint32_t</span><span class=pointer-ref><span class=name>timeout_ms</span></span><span class="param-paren paren-close"> )</span></span></span><a href=#void_waitForTap_31151db6 class=anchor aria-hidden=true>#</a></h4><div class=body><div class=description><p>Wait for a tap event to be detected.</p><p>This function is called in order to wait for a tap event to occur. This function blocks the calling thread unless called with a timeout of zero.</p></div><div class=parameters><h5>Parameters</h5><ul><li class=param-item><span class=name>timeout_ms</span>
<span class=description><p>(input) The maximum amount of time in milliseconds to wait for a tap event to arrive.</p></span></li></ul></div><div class=exceptions><h5>Exceptions</h5><ul><li class=exc-item><span class=name>zkAppUtilsTimeoutException</span>
<span class=description>upon timeout or zkAppUtilsException upon other errors</span></li></ul></div></div></div><div class=method><h4 id=void_getAccelerometerData_76968e99 class="markdown-h4 signature include-toc"><span><span class=returns>void</span><span class=pointer-ref><span class=name>getAccelerometerData</span><span class=param-list><span class="param-paren paren-open">( </span><span class=param><span class=annotation><span class=type>zkAppUtils::accelData</span><span class=pointer-ref>&</span><span class=name>accel_data</span></span><span class="param-paren paren-close"> )</span></span></span><a href=#void_getAccelerometerData_76968e99 class=anchor aria-hidden=true>#</a></h4><div class=body><div class=description><p>Get current accelerometer data and tap info.</p><p>This function gets the most recent accelerometer data in units of g forces plus the tap direction per axis. Array index 0 = x 1 = y 2 = z.</p></div><div class=parameters><h5>Parameters</h5><ul><li class=param-item><span class=name>accel_data</span>
<span class=description><p>(output) The current accelerometer data and tap information.</p></span></li></ul></div><div class=exceptions><h5>Exceptions</h5><ul><li class=exc-item><span class=name>zkAppUtilsException</span>
<span class=description>upon error</span></li></ul></div></div></div></div><div class=context><h4 class=context-name>Binding Management</h4><div class=method><h4 id=void_lockBinding_f24db7dc class="markdown-h4 signature include-toc"><span><span class=returns>void</span><span class=pointer-ref><span class=name>lockBinding</span><span class=param-list><span class="param-paren paren-open">( </span><span class="param-paren paren-close">)</span></span></span><a href=#void_lockBinding_f24db7dc class=anchor aria-hidden=true>#</a></h4><div class=body><div class=description><p>Set soft binding lock.</p><p>This function locks the binding for a specific HSM. This API is only valid for HSM series products.</p></div><div class=exceptions><h5>Exceptions</h5><ul><li class=exc-item><span class=name>zkAppUtilsException</span>
<span class=description>upon error</span></li></ul></div></div></div><div class=method><h4 id=void_getCurrentBindingInfo_223d6c78 class="markdown-h4 signature include-toc"><span><span class=returns>void</span><span class=pointer-ref><span class=name>getCurrentBindingInfo</span><span class=param-list><span class="param-paren paren-open">( </span><span class=param><span class=annotation><span class=type>bool</span><span class=pointer-ref>&</span><span class=name>binding_is_locked</span></span>, <span class=param><span class=annotation><span class=type>bool</span><span class=pointer-ref>&</span><span class=name>is_bound</span></span><span class="param-paren paren-close"> )</span></span></span><a href=#void_getCurrentBindingInfo_223d6c78 class=anchor aria-hidden=true>#</a></h4><div class=body><div class=description><p>Get current binding info.</p><p>This function gets the current binding lock state as well as the current binding state. This API is only valid for devices in the HSM family.</p></div><div class=parameters><h5>Parameters</h5><ul><li class=param-item><span class=name>binding_is_locked</span>
<span class=description><p>(output) Binary value which expresses the current binding lock state. is_bound (output) Binary value which expresses the current bind state.</p></span></li></ul></div><div class=exceptions><h5>Exceptions</h5><ul><li class=exc-item><span class=name>zkAppUtilsException</span>
<span class=description>upon error</span></li></ul></div></div></div></div><div class=context><h4 class=context-name>Perimeter Detect</h4><div class=method><h4 id=void_setPerimeterEventAction_8cb52c8f class="markdown-h4 signature include-toc"><span><span class=returns>void</span><span class=pointer-ref><span class=name>setPerimeterEventAction</span><span class=param-list><span class="param-paren paren-open">( </span><span class=param><span class=annotation><span class=type>int</span><span class=pointer-ref><span class=name>channel</span></span>, <span class=param><span class=annotation><span class=type>uint32_t</span><span class=pointer-ref><span class=name>action_flags</span></span><span class="param-paren paren-close"> )</span></span></span><a href=#void_setPerimeterEventAction_8cb52c8f class=anchor aria-hidden=true>#</a></h4><div class=body><div class=description><p>Set perimeter breach action.</p><p>This function specifies the action to take when a perimeter breach event occurs. The possible actions are any combination of:</p><ul><li>Notify host.</li><li>Zymkey self-destruct.</li></ul></div><div class=parameters><h5>Parameters</h5><ul><li class=param-item><span class=name>channel</span>
<span class=description><p>(input) The channel (0 or 1) that the action flags will be applied to.</p></span></li><li class=param-item><span class=name>action_flags</span>
<span class=description><p>(input) The actions to apply to the perimeter event channel:</p><ul><li>Notify (ZK_PERIMETER_EVENT_ACTION_NOTIFY).</li><li>Self-destruct (ZK_PERIMETER_EVENT_ACTION_SELF_DESTRUCT).</li></ul></span></li></ul></div><div class=exceptions><h5>Exceptions</h5><ul><li class=exc-item><span class=name>zkAppUtilsException</span>
<span class=description>upon error</span></li></ul></div></div></div><div class=method><h4 id=void_setDigitalPerimeterDetectLPPeriod_42acacc4 class="markdown-h4 signature include-toc"><span><span class=returns>void</span><span class=pointer-ref><span class=name>setDigitalPerimeterDetectLPPeriod</span><span class=param-list><span class="param-paren paren-open">( </span><span class=param><span class=annotation><span class=type>int</span><span class=pointer-ref><span class=name>lp_period</span></span><span class="param-paren paren-close"> )</span></span></span><a href=#void_setDigitalPerimeterDetectLPPeriod_42acacc4 class=anchor aria-hidden=true>#</a></h4><div class=body><div class=description><p>Set the low power period (model >= HSM6).</p><p>This function sets low power period on the digital perimeter detect.</p></div><div class=parameters><h5>Parameters</h5><ul><li class=param-item><span class=name>lp_period</span>
<span class=description><p>(input) low power period in microseconds.</p></span></li></ul></div><div class=exceptions><h5>Exceptions</h5><ul><li class=exc-item><span class=name>zkAppUtilsException</span>
<span class=description>upon error</span></li></ul></div><div class=returns><h5>Returns</h5><span class=return_value><p>void.</p></span></div></div></div><div class=method><h4 id=void_setDigitalPerimeterDetectLPMaxBits_4e385e59 class="markdown-h4 signature include-toc"><span><span class=returns>void</span><span class=pointer-ref><span class=name>setDigitalPerimeterDetectLPMaxBits</span><span class=param-list><span class="param-paren paren-open">( </span><span class=param><span class=annotation><span class=type>int</span><span class=pointer-ref><span class=name>max_num_bits</span></span><span class="param-paren paren-close"> )</span></span></span><a href=#void_setDigitalPerimeterDetectLPMaxBits_4e385e59 class=anchor aria-hidden=true>#</a></h4><div class=body><div class=description><p>Set the low power max number of bits (model >= HSM6).</p><p>This function sets low power max number of bits on the digital perimeter detect.</p></div><div class=parameters><h5>Parameters</h5><ul><li class=param-item><span class=name>max_num_bits</span>
<span class=description><p>(input) max number of bits.</p></span></li></ul></div><div class=exceptions><h5>Exceptions</h5><ul><li class=exc-item><span class=name>zkAppUtilsException</span>
<span class=description>upon error</span></li></ul></div><div class=returns><h5>Returns</h5><span class=return_value><p>void.</p></span></div></div></div><div class=method><h4 id=void_setDigitalPerimeterDetectDelays_16d29912 class="markdown-h4 signature include-toc"><span><span class=returns>void</span><span class=pointer-ref><span class=name>setDigitalPerimeterDetectDelays</span><span class=param-list><span class="param-paren paren-open">( </span><span class=param><span class=annotation><span class=type>int</span><span class=pointer-ref><span class=name>min_delay_ns</span></span>, <span class=param><span class=annotation><span class=type>int</span><span class=pointer-ref><span class=name>max_delay_ns</span></span><span class="param-paren paren-close"> )</span></span></span><a href=#void_setDigitalPerimeterDetectDelays_16d29912 class=anchor aria-hidden=true>#</a></h4><div class=body><div class=description><p>Set the delays (model >= HSM6).</p><p>This function sets delays on the digital perimeter detect.</p></div><div class=parameters><h5>Parameters</h5><ul><li class=param-item><span class=name>min_delay_ns</span>
<span class=description><p>(input) minimum delay in nanoseconds.</p></span></li><li class=param-item><span class=name>max_delay_ns</span>
<span class=description><p>(input) maximum delay in nanoseconds.</p></span></li></ul></div><div class=exceptions><h5>Exceptions</h5><ul><li class=exc-item><span class=name>zkAppUtilsException</span>
<span class=description>upon error</span></li></ul></div><div class=returns><h5>Returns</h5><span class=return_value><p>void.</p></span></div></div></div><div class=method><h4 id=void_waitForPerimeterEvent_31151db6 class="markdown-h4 signature include-toc"><span><span class=returns>void</span><span class=pointer-ref><span class=name>waitForPerimeterEvent</span><span class=param-list><span class="param-paren paren-open">( </span><span class=param><span class=annotation><span class=type>uint32_t</span><span class=pointer-ref><span class=name>timeout_ms</span></span><span class="param-paren paren-close"> )</span></span></span><a href=#void_waitForPerimeterEvent_31151db6 class=anchor aria-hidden=true>#</a></h4><div class=body><div class=description><p>Wait for a perimeter breach event to be detected.</p><p>This function is called in order to wait for a perimeter breach event to occur. This function blocks the calling thread unless called with a timeout of zero. Note that, in order to receive perimeter events, the zymkey must have been configured to notify the host on either or both of the perimeter detect channels via a call to &#8220;zkSetPerimeterEventAction&#8221;.</p></div><div class=parameters><h5>Parameters</h5><ul><li class=param-item><span class=name>timeout_ms</span>
<span class=description><p>(input) The maximum amount of time in milliseconds to wait for a perimeter event to arrive.</p></span></li></ul></div><div class=exceptions><h5>Exceptions</h5><ul><li class=exc-item><span class=name>zkAppUtilsException</span>
<span class=description>upon error</span></li></ul></div></div></div><div class=method><h4 id=void_getPerimeterDetectInfo_4e0780c9 class="markdown-h4 signature include-toc"><span><span class=returns>void</span><span class=pointer-ref><span class=name>getPerimeterDetectInfo</span><span class=param-list><span class="param-paren paren-open">( </span><span class=param><span class=annotation><span class=type>uint32_t</span><span class=pointer-ref>**</span><span class=name>timestamp_sec</span></span>, <span class=param><span class=annotation><span class=type>int</span><span class=pointer-ref>&</span><span class=name>num_timestamps</span></span><span class="param-paren paren-close"> )</span></span></span><a href=#void_getPerimeterDetectInfo_4e0780c9 class=anchor aria-hidden=true>#</a></h4><div class=body><div class=description><p>Get current perimeter detect info.</p><p>This function gets the timestamp of the first perimeter detect event for the given channel.</p></div><div class=parameters><h5>Parameters</h5><ul><li class=param-item><span class=name>timestamps_sec</span>
<span class=description><p>(output) The timestamps for when any events occurred. The index in this array corresponds to the channel number used by zkSetPerimeterEventAction. A 0 value means no breach has occurred on this channel. This array is allocated by this routine and so it must be freed by the caller.</p></span></li><li class=param-item><span class=name>num_timestamps</span>
<span class=description><p>(output) The number of timestamps in the returned array.</p></span></li></ul></div><div class=exceptions><h5>Exceptions</h5><ul><li class=exc-item><span class=name>zkAppUtilsException</span>
<span class=description>upon error</span></li></ul></div></div></div><div class=method><h4 id=void_clearPerimeterDetectEvents_f24db7dc class="markdown-h4 signature include-toc"><span><span class=returns>void</span><span class=pointer-ref><span class=name>clearPerimeterDetectEvents</span><span class=param-list><span class="param-paren paren-open">( </span><span class="param-paren paren-close">)</span></span></span><a href=#void_clearPerimeterDetectEvents_f24db7dc class=anchor aria-hidden=true>#</a></h4><div class=body><div class=description><p>Clear perimeter detect info.</p><p>This function clears all perimeter detect info and rearms all perimeter detect channels.</p></div><div class=exceptions><h5>Exceptions</h5><ul><li class=exc-item><span class=name>zkAppUtilsException</span>
<span class=description>upon error</span></li></ul></div></div></div><div class=method><h4 id=std::stringgetModelNumberString_f24db7dc class="markdown-h4 signature include-toc"><span><span class=returns>std::string *</span><span class=pointer-ref><span class=name>getModelNumberString</span><span class=param-list><span class="param-paren paren-open">( </span><span class="param-paren paren-close">)</span></span></span><a href=#std::stringgetModelNumberString_f24db7dc class=anchor aria-hidden=true>#</a></h4><div class=body><div class=description><p>Get Zymkey model number.</p><p>This function retrieves the model number of the zymkey referred to in a specified context.</p></div><div class=exceptions><h5>Exceptions</h5><ul><li class=exc-item><span class=name>zkAppUtilsException</span>
<span class=description>upon error</span></li></ul></div><div class=returns><h5>Returns</h5><span class=return_value><p>A pointer to a string containing the Zymkey model number.</p></span></div></div></div><div class=method><h4 id=std::stringgetFirmwareVersionString_f24db7dc class="markdown-h4 signature include-toc"><span><span class=returns>std::string *</span><span class=pointer-ref><span class=name>getFirmwareVersionString</span><span class=param-list><span class="param-paren paren-open">( </span><span class="param-paren paren-close">)</span></span></span><a href=#std::stringgetFirmwareVersionString_f24db7dc class=anchor aria-hidden=true>#</a></h4><div class=body><div class=description><p>Get Zymkey firmware version.</p><p>This function retrieves the firmware version of the zymkey referred to in a specified context.</p></div><div class=exceptions><h5>Exceptions</h5><ul><li class=exc-item><span class=name>zkAppUtilsException</span>
<span class=description>upon error</span></li></ul></div><div class=returns><h5>Returns</h5><span class=return_value><p>A pointer to a string containing the Zymkey firmware version.</p></span></div></div></div><div class=method><h4 id=std::stringgetSerialNumberString_f24db7dc class="markdown-h4 signature include-toc"><span><span class=returns>std::string *</span><span class=pointer-ref><span class=name>getSerialNumberString</span><span class=param-list><span class="param-paren paren-open">( </span><span class="param-paren paren-close">)</span></span></span><a href=#std::stringgetSerialNumberString_f24db7dc class=anchor aria-hidden=true>#</a></h4><div class=body><div class=description><p>Get Zymkey serial number.</p><p>This function retrieves the serial number of the zymkey referred to in a specified context.</p></div><div class=exceptions><h5>Exceptions</h5><ul><li class=exc-item><span class=name>zkAppUtilsException</span>
<span class=description>upon error</span></li></ul></div><div class=returns><h5>Returns</h5><span class=return_value><p>A pointer to a string containing the Zymkey serial number.</p></span></div></div></div></div><div class=context><h4 class=context-name>Module Info</h4><div class=method><h4 id=float_getCPUTemp_f24db7dc class="markdown-h4 signature include-toc"><span><span class=returns>float</span><span class=pointer-ref><span class=name>getCPUTemp</span><span class=param-list><span class="param-paren paren-open">( </span><span class="param-paren paren-close">)</span></span></span><a href=#float_getCPUTemp_f24db7dc class=anchor aria-hidden=true>#</a></h4><div class=body><div class=description><p>Get the CPU Temp. (model >= HSM6).</p><p>This function gets the current HSM CPU temp.</p></div><div class=exceptions><h5>Exceptions</h5><ul><li class=exc-item><span class=name>zkAppUtilsException</span>
<span class=description>upon error</span></li></ul></div><div class=returns><h5>Returns</h5><span class=return_value><p>The CPU temp as a float.</p></span></div></div></div><div class=method><h4 id=float_getRTCDrift_f24db7dc class="markdown-h4 signature include-toc"><span><span class=returns>float</span><span class=pointer-ref><span class=name>getRTCDrift</span><span class=param-list><span class="param-paren paren-open">( </span><span class="param-paren paren-close">)</span></span></span><a href=#float_getRTCDrift_f24db7dc class=anchor aria-hidden=true>#</a></h4><div class=body><div class=description><p>Get the RTC drift. (model >= HSM6).</p><p>This function gets the current RTC drift.</p></div><div class=exceptions><h5>Exceptions</h5><ul><li class=exc-item><span class=name>zkAppUtilsException</span>
<span class=description>upon error</span></li></ul></div><div class=returns><h5>Returns</h5><span class=return_value><p>The RTC drift as a float.</p></span></div></div></div><div class=method><h4 id=float_getBatteryVoltage_f24db7dc class="markdown-h4 signature include-toc"><span><span class=returns>float</span><span class=pointer-ref><span class=name>getBatteryVoltage</span><span class=param-list><span class="param-paren paren-open">( </span><span class="param-paren paren-close">)</span></span></span><a href=#float_getBatteryVoltage_f24db7dc class=anchor aria-hidden=true>#</a></h4><div class=body><div class=description><p>Get the battery voltage(model >= HSM6).</p><p>This function gets the current battery voltage.</p></div><div class=exceptions><h5>Exceptions</h5><ul><li class=exc-item><span class=name>zkAppUtilsException</span>
<span class=description>upon error</span></li></ul></div><div class=returns><h5>Returns</h5><span class=return_value><p>the battery voltage as a float.</p></span></div></div></div></div><div class=context><h4 class=context-name>Battery Voltage Monitor</h4><div class=method><h4 id=void_setBatteryVoltageAction_bc64806b class="markdown-h4 signature include-toc"><span><span class=returns>void</span><span class=pointer-ref><span class=name>setBatteryVoltageAction</span><span class=param-list><span class="param-paren paren-open">( </span><span class=param><span class=annotation><span class=type>ZK_THRESHOLD_ACTION_TYPE</span><span class=pointer-ref><span class=name>action</span></span><span class="param-paren paren-close"> )</span></span></span><a href=#void_setBatteryVoltageAction_bc64806b class=anchor aria-hidden=true>#</a></h4><div class=body><div class=description><p>Set battery voltage threshold action. (model >= HSM6).</p><p>This function specifies the action to take when the battery voltage falls below the threshold set by zkSetBatteryVoltageThreshold. If this function is never called, do nothing is default. There are three actions:</p><ul><li>Do nothing.</li><li>Go to sleep until battery is replaced.</li><li>Self-destruct.</li></ul></div><div class=parameters><h5>Parameters</h5><ul><li class=param-item><span class=name>action</span>
<span class=description><p>(input) The action to apply, specify one of the ZK_THRESHOLD_ACTION_TYPE:</p><ul><li>Do nothing (ZK_ACTION_NONE).</li><li>Sleep (ZK_ACTION_SLEEP).</li><li>Self-destruct (ZK_ACTION_SELF_DESTRUCT).</li></ul></span></li></ul></div><div class=exceptions><h5>Exceptions</h5><ul><li class=exc-item><span class=name>zkAppUtilsException</span>
<span class=description>upon error</span></li></ul></div></div></div><div class=method><h4 id=void_setBatteryVoltageThreshold_c78fde9a class="markdown-h4 signature include-toc"><span><span class=returns>void</span><span class=pointer-ref><span class=name>setBatteryVoltageThreshold</span><span class=param-list><span class="param-paren paren-open">( </span><span class=param><span class=annotation><span class=type>float</span><span class=pointer-ref><span class=name>threshold</span></span><span class="param-paren paren-close"> )</span></span></span><a href=#void_setBatteryVoltageThreshold_c78fde9a class=anchor aria-hidden=true>#</a></h4><div class=body><div class=description><p>Sets the battery voltage threshold. (model >= HSM6).</p><p>This function sets the threshold at which if the battery voltage falls bellow, the action set by zkSetBatteryVoltageAction will be carried out. The recommended threshold is 2.3V. If this function isn&#8217;t called 2.5V is assumed by default.</p></div><div class=parameters><h5>Parameters</h5><ul><li class=param-item><span class=name>threshold</span>
<span class=description><p>(input) The threshold in Volts.</p></span></li></ul></div><div class=exceptions><h5>Exceptions</h5><ul><li class=exc-item><span class=name>zkAppUtilsException</span>
<span class=description>upon error</span></li></ul></div></div></div></div><div class=context><h4 class=context-name>CPU Temperature Monitor</h4><div class=method><h4 id=void_setCPUTempAction_bc64806b class="markdown-h4 signature include-toc"><span><span class=returns>void</span><span class=pointer-ref><span class=name>setCPUTempAction</span><span class=param-list><span class="param-paren paren-open">( </span><span class=param><span class=annotation><span class=type>ZK_THRESHOLD_ACTION_TYPE</span><span class=pointer-ref><span class=name>action</span></span><span class="param-paren paren-close"> )</span></span></span><a href=#void_setCPUTempAction_bc64806b class=anchor aria-hidden=true>#</a></h4><div class=body><div class=description><p>Set HSM CPU temperature threshold action. (model >= HSM6).</p><p>This function specifies the action to take when the HSM CPU temperature falls below the threshold set by zkSetCPULowTempThreshold, or rises above the threshold set by zkSetCPUHighTempThreshold. There are two actions to apply:</p><ul><li>Do nothing.</li><li>Self-destruct.</li></ul></div><div class=parameters><h5>Parameters</h5><ul><li class=param-item><span class=name>action</span>
<span class=description><p>(input) The action to apply, used it&#8217;s named constant from ZK_THRESHOLD_ACTION_TYPE:</p><ul><li>Do nothing (ZK_ACTION_NONE).</li><li>Self-destruct (ZK_ACTION_SELF_DESTRUCT).</li></ul></span></li></ul></div><div class=exceptions><h5>Exceptions</h5><ul><li class=exc-item><span class=name>zkAppUtilsException</span>
<span class=description>upon error</span></li></ul></div></div></div><div class=method><h4 id=void_setCPULowTempThreshold_c78fde9a class="markdown-h4 signature include-toc"><span><span class=returns>void</span><span class=pointer-ref><span class=name>setCPULowTempThreshold</span><span class=param-list><span class="param-paren paren-open">( </span><span class=param><span class=annotation><span class=type>float</span><span class=pointer-ref><span class=name>threshold</span></span><span class="param-paren paren-close"> )</span></span></span><a href=#void_setCPULowTempThreshold_c78fde9a class=anchor aria-hidden=true>#</a></h4><div class=body><div class=description><p>Sets the HSM CPU low temperature threshold. (model >= HSM6).</p><p>This function sets the threshold at which if the on-board HSM CPU&#8217;s tempreature falls below, the action set by zkSetCPUTempAction will be carried out. WARNING: You can lock yourself out in dev mode if you set a threshold above the CPU&#8217;s ambient temperature. The recommended setting is no more than 20C. If no threshold is set, -10 degrees Celsius is set as default.</p></div><div class=parameters><h5>Parameters</h5><ul><li class=param-item><span class=name>threshold</span>
<span class=description><p>(input) The threshold in celsius.</p></span></li></ul></div><div class=exceptions><h5>Exceptions</h5><ul><li class=exc-item><span class=name>zkAppUtilsException</span>
<span class=description>upon error</span></li></ul></div></div></div><div class=method><h4 id=void_setCPUHighTempThreshold_c78fde9a class="markdown-h4 signature include-toc"><span><span class=returns>void</span><span class=pointer-ref><span class=name>setCPUHighTempThreshold</span><span class=param-list><span class="param-paren paren-open">( </span><span class=param><span class=annotation><span class=type>float</span><span class=pointer-ref><span class=name>threshold</span></span><span class="param-paren paren-close"> )</span></span></span><a href=#void_setCPUHighTempThreshold_c78fde9a class=anchor aria-hidden=true>#</a></h4><div class=body><div class=description><p>Sets the HSM CPU high temperature threshold. (model >= HSM6).</p><p>This function sets the threshold at which if the on-board HSM CPU&#8217;s tempreature rises above, the action set by zkSetCPUTempAction will be carried out. WARNING: You can lock yourself out in dev mode if you set a threshold below the CPU&#8217;s ambient temperature. The recommended setting is no less than 40C. If no threshold is set, 65 degrees celsius is set as default.</p></div><div class=parameters><h5>Parameters</h5><ul><li class=param-item><span class=name>threshold</span>
<span class=description><p>(input) The threshold in celsius.</p></span></li></ul></div><div class=returns><h5>Returns</h5><span class=return_value><p>0 for success, less than 0 for failure.</p></span></div></div></div></div><div class=context><h4 class=context-name>Private Members</h4><div class=struct-var><h4 id=span-classmarkdown-h4-signature-include-tocspan-classreturnszkctxspanspan-classnamezkcontextspanspan><span class="markdown-h4 signature include-toc"><span class=returns>zkCTX</span><span class=name>zkContext</span></span><a href=#span-classmarkdown-h4-signature-include-tocspan-classreturnszkctxspanspan-classnamezkcontextspanspan class=anchor aria-hidden=true>#</a></h4><div class=body></div></div></div></div></div></div><p class=edit-page><a href=https://github.com/zymbit-docs/docs/blob/master/content/api/cpp_docs.md><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-edit-2"><path d="M17 3a2.828 2.828.0 114 4L7.5 20.5 2 22l1.5-5.5L17 3z"/></svg>Edit this page on GitHub</a></p><div class="docs-navigation d-flex justify-content-between"><a href=https://docs.zymbit.com/api/c_docs/><div class="card my-1"><div class="card-body py-2">&larr; C API Documentation</div></div></a><a class=ml-auto href=https://docs.zymbit.com/api/python_docs/><div class="card my-1"><div class="card-body py-2">Python API Documentation &rarr;</div></div></a></div></main></div></div></div><footer class="footer text-muted"><div class=container-fluid><div class=row><div class="col-lg-8 order-last order-lg-first"><ul class=list-inline><li class=list-inline-item>Powered by <a href=https://gohugo.io/>Hugo</a>.</li><li class=list-inline-item>Page last updated on 2021-05-17 20:37 UTC (<a href=https://github.com/zymbit-docs/docs/commit/246b63202cb0d27b5d96f4f9cfc740f9df26842f><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77a5.44 5.44.0 00-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg> <code>246b632</code></a>).</li></ul></div><div class="col-lg-8 order-first order-lg-last text-lg-right"><ul class=list-inline></ul></div></div></div></footer><script src=https://docs.zymbit.com/main.285dd99d423eda42247003490c64d07395a1fbbc2ab7a111cb01be95bf541459b80d6a87bc1a5574e8a6edad4e2b60322f1d0dc213c8ca02abd5c05952cebfc1.js integrity="sha512-KF3ZnUI+2kIkcANJDGTQc5Wh+7wqt6ERywG+lb9UFFm4DWqHvBpVdOim7a1OK2AyLx0NwhPIygKr1cBZUs6/wQ==" crossorigin=anonymous defer></script><script src=https://docs.zymbit.com/index.min.9d0e332b56ee90ca8385b6ff55b70ab9a11c9b9d608bf5092ef8f62d3674d04e0d8b8efffbbb91643563bb665236dd73a5a54fc17cef76484c1163ee95f82f1d.js integrity="sha512-nQ4zK1bukMqDhbb/VbcKuaEcm51gi/UJLvj2LTZ00E4Ni47/+7uRZDVju2ZSNt1zpaVPwXzvdkhMEWPulfgvHQ==" crossorigin=anonymous defer></script></body></html>