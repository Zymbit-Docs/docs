<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><link rel=preload as=font href=https://docs.zymbit.com/fonts/vendor/jost/jost-v4-latin-regular.woff2 type=font/woff2 crossorigin><link rel=preload as=font href=https://docs.zymbit.com/fonts/vendor/jost/jost-v4-latin-700.woff2 type=font/woff2 crossorigin><link rel=stylesheet href=https://docs.zymbit.com/main.c01bd6a1459e9eba251f9590a4017689eb83288b3abd2147b0cfa6adf0320dd965094135f389b4d02ffc8efc867ce86d9fc960482bdc058454e2e8f9eaa86fe0.css integrity="sha512-wBvWoUWenrolH5WQpAF2ieuDKIs6vSFHsM+mrfAyDdllCUE184m00C/8jvyGfOhtn8lgSCvcBYRU4uj56qhv4A==" crossorigin=anonymous><noscript><style>img.lazyload{display:none}</style></noscript><meta name=robots content="index, follow"><meta name=googlebot content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"><meta name=bingbot content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"><title>Intro to Zymkey Application Utilities | Zymbit Documentation</title><meta name=description content="This is the official documentation for the official zkapputils Api API library."><link rel=canonical href=https://docs.zymbit.com/api/api_docs_intro/><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://docs.zymbit.com/doks.png"><meta name=twitter:title content="Intro to Zymkey Application Utilities"><meta name=twitter:description content="This is the official documentation for the official zkapputils Api API library."><meta name=twitter:site content="@zymbit"><meta name=twitter:creator content="@zymbit"><meta property="og:title" content="Intro to Zymkey Application Utilities"><meta property="og:description" content="This is the official documentation for the official zkapputils Api API library."><meta property="og:type" content="article"><meta property="og:url" content="https://docs.zymbit.com/api/api_docs_intro/"><meta property="og:image" content="https://docs.zymbit.com/doks.png"><meta property="article:published_time" content="2021-03-26T21:34:55+00:00"><meta property="article:modified_time" content="2021-03-26T17:43:36-04:00"><meta property="og:site_name" content="Zymbit Documentation"><meta property="article:publisher" content="https://www.facebook.com/zymbit"><meta property="article:author" content="https://www.facebook.com/zymbit"><meta property="og:locale" content="en_US"><script type=application/ld+json>{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Home","item":"https:\/\/docs.zymbit.com"},{"@type":"ListItem","position":3,"name":"Api","item":"https:\/\/docs.zymbit.com\/api\/"},{"@type":"ListItem","position":4,"name":"Api Docs Intro","item":"https:\/\/docs.zymbit.com\/api\/api_docs_intro\/"}]}</script><meta name=theme-color content="#fff"><link rel=apple-touch-icon sizes=180x180 href=https://docs.zymbit.com/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=https://docs.zymbit.com/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=https://docs.zymbit.com/favicon-16x16.png><link rel=manifest href=https://docs.zymbit.com/site.webmanifest></head><body class="docs single"><div class="header-bar fixed-top"></div><header class="navbar fixed-top navbar-expand-md navbar-light"><div class=container-fluid><input class="menu-btn order-0" type=checkbox id=menu-btn>
<label class="menu-icon d-md-none" for=menu-btn><span class=navicon></span></label><a class="navbar-brand order-1 order-md-0 mr-auto" href=https://docs.zymbit.com><img class="mr-0 logo-light" src=https://docs.zymbit.com/logo-zymbit.png style=max-width:175px alt="Zymbit Documentation">
<img class="mr-0 logo-dark" src=https://docs.zymbit.com/logo-zymbit-dark.png style=max-width:175px alt="Zymbit Documentation"></a>
<button id=mode class="btn btn-link order-2 order-md-4" type=button aria-label="Toggle mode">
<span class=toggle-dark><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-moon"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg></span><span class=toggle-light><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-sun"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></span></button><ul class="navbar-nav social-nav order-3 order-md-5"><li class=nav-item><a class=nav-link href=https://github.com/zymbit-docs><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77a5.44 5.44.0 00-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg><span class="ml-2 sr-only">GitHub</span></a></li><li class=nav-item><a class=nav-link href=https://twitter.com/zymbit><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-twitter"><path d="M23 3a10.9 10.9.0 01-3.14 1.53 4.48 4.48.0 00-7.86 3v1A10.66 10.66.0 013 4s-4 9 5 13a11.64 11.64.0 01-7 2c9 5 20 0 20-11.5a4.5 4.5.0 00-.08-.83A7.72 7.72.0 0023 3z"/></svg><span class="ml-2 sr-only">Twitter</span></a></li></ul><div class="collapse navbar-collapse order-4 order-md-1"><ul class="navbar-nav main-nav mr-auto order-5 order-md-2"><li class=nav-item><a class=nav-link href=https://docs.zymbit.com/>Docs</a></li></ul><div class="break order-6 d-md-none"></div><form class="navbar-form flex-grow-1 order-7 order-md-3"><input id=userinput class="form-control is-search" type=search placeholder="Search docs..." aria-label="Search docs..." autocomplete=off><div id=suggestions class="shadow bg-white rounded"></div></form></div></div></header><div class="wrap container-fluid" role=document><div class=content><div class="row flex-xl-nowrap"><div class="col-lg-5 col-xl-4 docs-sidebar"><nav class=docs-links aria-label="Main navigation"><h3>Getting Started</h3><ul class=docs-menu-top-list><li><a class=docs-link href=https://docs.zymbit.com/getting-started/introduction/>Introduction</a></li></ul><h3>Apis</h3><ul class=docs-menu-top-list><li><a class=docs-link href=https://docs.zymbit.com/api/c_api/>C API Documentation</a></li><li><a class=docs-link href=https://docs.zymbit.com/api/cpp_api/>C++ API Documentation</a></li><li><a class="docs-link active" href=https://docs.zymbit.com/api/api_docs_intro/>Intro to Zymkey Application Utilities</a></li><li><a class=docs-link href=https://docs.zymbit.com/api/python_api/>Python API Documentation</a></li></ul></nav></div><nav class="docs-toc d-none d-xl-block col-xl-3" aria-label="Secondary navigation"><div class=page-links><h3>On this page</h3><nav id=TableOfContents><ul><li><a href=#a-note-about-files>A Note About Files</a></li><li><a href=#crypto-features>Crypto Features</a><ul><li><a href=#random-number-generation>Random Number Generation</a></li><li><a href=#data-locker>Data Locker</a></li><li><a href=#ecdsa-operations>ECDSA Operations</a></li></ul></li><li><a href=#other-features>Other Features</a><ul><li><a href=#led>LED</a></li><li><a href=#i2c-address>i2c Address</a></li><li><a href=#tap-sensitivity>Tap Sensitivity</a></li></ul></li><li><a href=#programming-language-support>Programming Language Support</a></li><li><a href=#binding>Binding</a></li><li><a href=#hsm4>HSM4</a><ul><li><a href=#soft-bind-lock>Soft Bind Lock</a></li></ul></li><li><a href=#hsm6>HSM6</a><ul><li><a href=#soft-bind-lock-1>Soft Bind Lock</a></li><li><a href=#ecdh>ECDH</a></li><li><a href=#koblitz-curve-support>Koblitz Curve Support</a></li><li><a href=#more-key-slots>More Key Slots</a></li><li><a href=#foreign-public-keyring>Foreign Public Keyring</a></li><li><a href=#digital-wallet>Digital Wallet</a></li><li><a href=#battery-and-temperature-monitoring>Battery and Temperature Monitoring</a></li></ul></li></ul></nav></div></nav><main class="docs-content col-lg-11 col-xl-9"><h1>Intro to Zymkey Application Utilities</h1><p class=lead>This is the official documentation for the official zkapputils Api API library.</p><p>The Zymkey App Utils library provides an API which allows user space applications to incorporate Zymkey&rsquo;s cryptographic features, including:</p><ul><li>Generation of random numbers</li><li>Locking and unlocking of data objects</li><li>ECDSA signature generation and verification</li></ul><p>In addition, the Zymkey App Utils library provides interfaces for administrative functions, such as:</p><ul><li>Control of the LED</li><li>Setting the i2c address (i2c units only)</li><li>Setting the tap detection sensitivity</li></ul><h2 id=a-note-about-files>A Note About Files<a href=#a-note-about-files class=anchor aria-hidden=true>#</a></h2><p>Some of the interfaces can take a filename as an argument. The following rules must be observed when using these interfaces:</p><ul><li>Absolute path names must be provided.</li><li>For destination filenames, the permissions of the path (or existing file) must be set:<ul><li>Write permissions for all.</li><li>Write permissions for common group: in this case, user <code>zymbit</code> must be added to the group that has permissions for the destination directory path and/or existing file.</li><li>Destination path must be fully owned by user and/or group <code>zymbit</code>.</li></ul></li><li>Similar rules exist for source filenames:<ul><li>Read permissions for all.</li><li>Read permissions for common group: in this case, user <code>zymbit</code> must be added to the group that has permissions for the source directory path and/or existing file.</li><li>Source path must be fully owned by user and/or group <code>zymbit</code>.</li></ul></li></ul><h2 id=crypto-features>Crypto Features<a href=#crypto-features class=anchor aria-hidden=true>#</a></h2><h3 id=random-number-generation>Random Number Generation<a href=#random-number-generation class=anchor aria-hidden=true>#</a></h3><p>This feature is useful when the default host random number generator is suspected of having <a href=http://security.stackexchange.com/questions/47475/testing-a-hardware-random-number-generator>cryptographic weakness</a>. It can also be used to supplement existing random number generation sources. Zymkey bases its random number generation on an internal TRNG (True Random Number Generator) and performs well under Fourmilab&rsquo;s <code>ent</code>.</p><h3 id=data-locker>Data Locker<a href=#data-locker class=anchor aria-hidden=true>#</a></h3><p>Zymkey includes a feature, called Data Locking. This feature is essentially an AES encryption of the data block followed by an ECDSA signature trailer.</p><h4 id=data-locker-keys>Data Locker Keys<a href=#data-locker-keys class=anchor aria-hidden=true>#</a></h4><p>In addition to a unique ECDSA private/public key pair, each Zymkey has two unique AES keys that are programmed at the factory.</p><h3 id=ecdsa-operations>ECDSA Operations<a href=#ecdsa-operations class=anchor aria-hidden=true>#</a></h3><p>Each Zymkey comes out of the factory with three (Zymkey 4i/HSM4) or 12 (HSM6) unique ECDSA private/public key pairs. These private keys are randomly programmed within hardware at the time of manufacture and never exported. In fact, Zymbit doesn&rsquo;t even know what the value of the private keys are.</p><p>There are three ECDSA operations available:</p><ul><li><strong>Generate signature:</strong><ul><li>The Zymkey is capable of generating an ECDSA signature.</li></ul></li><li><strong>Verification signature:</strong><ul><li>The Zymkey is capable of verifying an ECDSA signature.</li></ul></li><li><strong>Export the ECDSA public key:</strong><ul><li>This saves the public key to a file in PEM format. This operation is useful for generating a Certificate Signing Request (CSR).</li></ul></li></ul><h2 id=other-features>Other Features<a href=#other-features class=anchor aria-hidden=true>#</a></h2><h3 id=led>LED<a href=#led class=anchor aria-hidden=true>#</a></h3><p>The Zymkey has an LED which can be turned on, off or flashed at an interval.</p><h3 id=i2c-address>i2c Address<a href=#i2c-address class=anchor aria-hidden=true>#</a></h3><p>For Zymkeys with an i2c interface, the base address can be changed to work around addressing conflicts. The default address is <code>0x30</code>, but can be changed in the ranges <code>0x30 - 0x37</code> and <code>0x60 - 0x67</code>.</p><h3 id=tap-sensitivity>Tap Sensitivity<a href=#tap-sensitivity class=anchor aria-hidden=true>#</a></h3><p>The Zymkey has an accelerometer which can perform tap detection. The sensitivity of the tap detection is configurable.</p><h2 id=programming-language-support>Programming Language Support<a href=#programming-language-support class=anchor aria-hidden=true>#</a></h2><p>Currently, C, C++ and Python are supported.</p><h2 id=binding>Binding<a href=#binding class=anchor aria-hidden=true>#</a></h2><p>Before a Zymkey can be effectively used on a host computer, it must be &ldquo;bound&rdquo; to it. Binding is a process where a &ldquo;fingerprint&rdquo; is made which is composed of the host computer and its SD card serial numbers as well as the Zymkey serial number. If the host computer or SD card is changed from the time of binding, the Zymkey will refuse to accept commands.</p><p>To learn more about binding your zymkey, go to the Zymbit Community &ldquo;Getting Started&rdquo; page for your Zymkey model (e.g. <a href=https://community.zymbit.com/t/getting-started-with-zymkey-4i>Getting Started with ZYMKEY</a>).</p><h2 id=hsm4>HSM4<a href=#hsm4 class=anchor aria-hidden=true>#</a></h2><h3 id=soft-bind-lock>Soft Bind Lock<a href=#soft-bind-lock class=anchor aria-hidden=true>#</a></h3><p>Unlike Zymkey, HSM4 does not have a physical lock tab that is cut to lock the host binding. Instead, it has a software API for locking the binding to the host. See the soft bind lock API description for more information.</p><h2 id=hsm6>HSM6<a href=#hsm6 class=anchor aria-hidden=true>#</a></h2><h3 id=soft-bind-lock-1>Soft Bind Lock<a href=#soft-bind-lock-1 class=anchor aria-hidden=true>#</a></h3><p>See &ldquo;HSM4: Soft Bind Lock&rdquo; above.</p><h3 id=ecdh>ECDH<a href=#ecdh class=anchor aria-hidden=true>#</a></h3><p>ECDH with some Key Derivation Functions (KDFs) is available. The available KDFs include:</p><ol><li><strong>none:</strong> The raw pre-master secret is returned.</li><li><strong>rfc5869:</strong> This KDF can be invoked with SHA256 or SHA512 as the hashing function.</li><li><strong>pbkdf2:</strong> Like rfc5869, SHA256 or SHA512 can be specified.</li></ol><h3 id=koblitz-curve-support>Koblitz Curve Support<a href=#koblitz-curve-support class=anchor aria-hidden=true>#</a></h3><p>In addition to NIST P-256 which is available on Zymkey and HSM4, the Koblitz 256 bit curve is available as well.</p><h3 id=more-key-slots>More Key Slots<a href=#more-key-slots class=anchor aria-hidden=true>#</a></h3><p>HSM6 now has 12 factory pre-configured NIST P-256 key slots and 512 key pairs for generated key pair and digital wallet allocation for NIST P-256 or Koblitz 256. All of these key slots can be used for ECDSA as well as ECDH operations. It is also possible to remove the keys in the 512 key pair store and also prohibit public key export.</p><h3 id=foreign-public-keyring>Foreign Public Keyring<a href=#foreign-public-keyring class=anchor aria-hidden=true>#</a></h3><p>128 public key slots are available to form a public key store for storing foreign party public keys. Like the 512 key pair store, public keys can be removed and prohibited from export.</p><h3 id=digital-wallet>Digital Wallet<a href=#digital-wallet class=anchor aria-hidden=true>#</a></h3><p>HSM6 provides APIs which allow the creation of 1 or more digital wallets per BIP 32/39/44. The number of master seeds and child nodes is only limited by the number of key pairs provided for in the 512 byte key pair store. The BIP 39 feature provides the mnemonic sentence using the 2048 word English dictionary.</p><h3 id=battery-and-temperature-monitoring>Battery and Temperature Monitoring<a href=#battery-and-temperature-monitoring class=anchor aria-hidden=true>#</a></h3><p>The HSM6 has APIs for reading the battery voltage as well as monitoring policies for taking action if certain thresholds are exceeded.</p><h4 id=battery-monitoring>Battery Monitoring<a href=#battery-monitoring class=anchor aria-hidden=true>#</a></h4><p>The Battery Monitoring feature provides for 1 of 2 actions if the battery voltage below specified threshold (settable from 2.5V or lower via API).</p><ol><li><p><strong>self-destruct:</strong></p><ul><li>If the battery voltage goes lower than the threshold, destroy all key material. Good for use cases where a low battery voltage is interpreted as an attempt to attack the low power tamper detect operation.</li></ul></li><li><p><strong>sleep-until-battery-recovery:</strong></p><ul><li>Do not permit full functionality until the battery has gone above the threshold. Good for use cases where battery replacement is desirable.</li></ul></li></ol><h4 id=temperature-monitoring>Temperature Monitoring<a href=#temperature-monitoring class=anchor aria-hidden=true>#</a></h4><p>The Temperature Monitoring feature provides protection from attacks that are based on manipulation of temperature (e.g. memory freeze attacks). If invoked, the system may be configured to destroy keys if temperature thresholds are exceeded.</p><p class=edit-page><a href=https://github.com/zymbit-docs/docs/blob/master/content/api/api_docs_intro.md><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-edit-2"><path d="M17 3a2.828 2.828.0 114 4L7.5 20.5 2 22l1.5-5.5L17 3z"/></svg>Edit this page on GitHub</a></p><div class="docs-navigation d-flex justify-content-between"><a href=https://docs.zymbit.com/api/cpp_api/><div class="card my-1"><div class="card-body py-2">&larr; C++ API Documentation</div></div></a><a class=ml-auto href=https://docs.zymbit.com/api/python_api/><div class="card my-1"><div class="card-body py-2">Python API Documentation &rarr;</div></div></a></div></main></div></div></div><footer class="footer text-muted"><div class=container-fluid><div class=row><div class="col-lg-8 order-last order-lg-first"><ul class=list-inline><li class=list-inline-item>Powered by <a href=https://gohugo.io/>Hugo</a>.</li><li class=list-inline-item>Page last updated on 2021-03-26 21:43 UTC (<a href=https://github.com/zymbit-docs/docs/commit/0c3f3486b75aa54dc0302b53c5c6f67c65826abb><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77a5.44 5.44.0 00-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg> <code>0c3f348</code></a>).</li></ul></div><div class="col-lg-8 order-first order-lg-last text-lg-right"><ul class=list-inline></ul></div></div></div></footer><script src=https://docs.zymbit.com/main.f6b484f556ad1f3bcf6061082139a2f21fa759f13930c39a25fe4a9f78f35e64122c2d86dffd56e67b292dabbda4095d8077194f196e0e348441c106a9f3d40e.js integrity="sha512-9rSE9VatHzvPYGEIITmi8h+nWfE5MMOaJf5Kn3jzXmQSLC2G3/1W5nspLau9pAldgHcZTxluDjSEQcEGqfPUDg==" crossorigin=anonymous defer></script><script src=https://docs.zymbit.com/index.min.95c2fb57984ca6cb1914e6658c1095cc47073a398c805d5ee842114fab739d64b4d5cd0626cda1be56c95e7f8c6e9c4d231866d1065245c873d731a6a7b01c5e.js integrity="sha512-lcL7V5hMpssZFOZljBCVzEcHOjmMgF1e6EIRT6tznWS01c0GJs2hvlbJXn+MbpxNIxhm0QZSRchz1zGmp7AcXg==" crossorigin=anonymous defer></script></body></html>