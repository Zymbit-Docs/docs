<!doctype html><html lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.79.1"><meta name=ROBOTS content="NOINDEX, NOFOLLOW"><link rel="shortcut icon" href=/favicons/favicon.ico><link rel=apple-touch-icon href=/favicons/apple-touch-icon.png sizes=180x180><link rel=icon type=image/png href=/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/favicons/android-chrome-192x192.png sizes=192x192><link rel=icon type=image/png href=/favicons/android-chrome-512x512.png sizes=512x512><title>Intro to Zymkey Application Utilities |</title><meta name=description content><meta property="og:title" content="Intro to Zymkey Application Utilities"><meta property="og:description" content="This is the official documentation for the official zkapputils Api API library."><meta property="og:type" content="article"><meta property="og:url" content="https://docs.zymbit.com/api/api_docs_intro/"><meta property="og:image" content="https://docs.zymbit.com/doks.png"><meta property="article:published_time" content="2021-03-26T21:34:55+00:00"><meta property="article:modified_time" content="2021-04-15T12:52:27-04:00"><meta property="og:site_name" content="Zymbit Documentation"><meta itemprop=name content="Intro to Zymkey Application Utilities"><meta itemprop=description content="This is the official documentation for the official zkapputils Api API library."><meta itemprop=dateModified content="2021-04-15T12:52:27-04:00"><meta itemprop=wordCount content="1019"><meta itemprop=image content="https://docs.zymbit.com/doks.png"><meta itemprop=keywords content><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://docs.zymbit.com/doks.png"><meta name=twitter:title content="Intro to Zymkey Application Utilities"><meta name=twitter:description content="This is the official documentation for the official zkapputils Api API library."><link rel=preload href=/scss/main.min.f8551224dc2d39f5a3d559700b112558da8ffdac3ac6dea32eeeb1215d8e7057.css as=style><link href=/scss/main.min.f8551224dc2d39f5a3d559700b112558da8ffdac3ac6dea32eeeb1215d8e7057.css rel=stylesheet integrity><script src=https://code.jquery.com/jquery-3.5.1.min.js integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin=anonymous></script></head><body class=td-page><header><nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar"><a class=navbar-brand href=/><img class=navbar-logo src=https://docs.zymbit.com/logo.png></a><div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar><ul class="navbar-nav mt-2 mt-lg-0"><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/><span>Docs</span></a></li></ul></div><div class="navbar-nav d-none d-lg-block"></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><div class="col-12 col-md-4 col-xl-3 td-sidebar d-print-none"><div id=td-sidebar-menu class=td-sidebar__inner><form class="td-sidebar__search d-flex align-items-center"><button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type=button data-toggle=collapse data-target=#td-section-nav aria-controls=td-docs-nav aria-expanded=false aria-label="Toggle section navigation"></button></form><nav class="collapse td-sidebar-nav" id=td-section-nav><ul class="td-sidebar-nav__section pr-md-3 ul-0"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m--li><a href=/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section tree-root" id=m-><span>Introduction</span></a><ul class="pr-md-3 ul-1"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-getting-started-li><span class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section"><span>Getting Started</span></span><ul class="pr-md-3 ul-2"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-getting-startedzymkey4i-li><a href=/getting-started/zymkey4i/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-getting-startedzymkey4i><span>Get Started with Zymkey 4i</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-api-li><span class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section"><span>API Documentation</span></span><ul class="pr-md-3 ul-2"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child active-path" id=m-apiapi_docs_intro-li><a href=/api/api_docs_intro/ class="align-left pl-0 pr-2 active td-sidebar-link td-sidebar-link__page" id=m-apiapi_docs_intro><span class=td-sidebar-nav-active-item>Intro to Zymkey Application Utilities</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-apic_docs-li><a href=/api/c_docs/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-apic_docs><span>C API Documentation</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-apicpp_docs-li><a href=/api/cpp_docs/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-apicpp_docs><span>C++ API Documentation</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-apipython_docs-li><a href=/api/python_docs/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id=m-apipython_docs><span>Python API Documentation</span></a></li></ul></li></ul></li></ul></nav></div></div><div class="d-none d-xl-block col-xl-2 td-toc d-print-none"><div class="td-page-meta ml-2 pb-1 pt-2 mb-0"></div><nav id=TableOfContents><ul><li><a href=#a-note-about-files>A Note About Files</a></li><li><a href=#crypto-features>Crypto Features</a><ul><li><a href=#random-number-generation>Random Number Generation</a></li><li><a href=#data-locker>Data Locker</a><ul><li><a href=#data-locker-keys>Data Locker Keys</a></li></ul></li><li><a href=#ecdsa-operations>ECDSA Operations</a></li></ul></li><li><a href=#other-features>Other Features</a><ul><li><a href=#led>LED</a></li><li><a href=#i2c-address>i2c Address</a></li><li><a href=#tap-sensitivity>Tap Sensitivity</a></li></ul></li><li><a href=#programming-language-support>Programming Language Support</a></li><li><a href=#binding>Binding</a></li><li><a href=#hsm4>HSM4</a><ul><li><a href=#soft-bind-lock>Soft Bind Lock</a></li></ul></li><li><a href=#hsm6>HSM6</a><ul><li><a href=#soft-bind-lock-1>Soft Bind Lock</a></li><li><a href=#ecdh>ECDH</a></li><li><a href=#koblitz-curve-support>Koblitz Curve Support</a></li><li><a href=#more-key-slots>More Key Slots</a></li><li><a href=#foreign-public-keyring>Foreign Public Keyring</a></li><li><a href=#digital-wallet>Digital Wallet</a></li><li><a href=#battery-and-temperature-monitoring>Battery and Temperature Monitoring</a><ul><li><a href=#battery-monitoring>Battery Monitoring</a></li><li><a href=#temperature-monitoring>Temperature Monitoring</a></li></ul></li></ul></li></ul></nav></div><main class="col-12 col-md-8 col-xl-7 pl-md-5" role=main><nav aria-label=breadcrumb class="d-none d-md-block d-print-none"><ol class="breadcrumb spb-1"><li class=breadcrumb-item><a href=https://docs.zymbit.com/api/>API Documentation</a></li><li class="breadcrumb-item active" aria-current=page><a href=https://docs.zymbit.com/api/api_docs_intro/>Intro to Zymkey Application Utilities</a></li></ol></nav><div class=td-content><h1>Intro to Zymkey Application Utilities</h1><div class=lead>This is the official documentation for the official zkapputils Api API library.</div><p>The Zymkey App Utils library provides an API which allows user space applications to incorporate Zymkey&rsquo;s cryptographic features, including:</p><ul><li>Generation of random numbers</li><li>Locking and unlocking of data objects</li><li>ECDSA signature generation and verification</li></ul><p>In addition, the Zymkey App Utils library provides interfaces for administrative functions, such as:</p><ul><li>Control of the LED</li><li>Setting the i2c address (i2c units only)</li><li>Setting the tap detection sensitivity</li></ul><h2 id=a-note-about-files>A Note About Files</h2><p>Some of the interfaces can take a filename as an argument. The following rules must be observed when using these interfaces:</p><ul><li>Absolute path names must be provided.</li><li>For destination filenames, the permissions of the path (or existing file) must be set:<ul><li>Write permissions for all.</li><li>Write permissions for common group: in this case, user <code>zymbit</code> must be added to the group that has permissions for the destination directory path and/or existing file.</li><li>Destination path must be fully owned by user and/or group <code>zymbit</code>.</li></ul></li><li>Similar rules exist for source filenames:<ul><li>Read permissions for all.</li><li>Read permissions for common group: in this case, user <code>zymbit</code> must be added to the group that has permissions for the source directory path and/or existing file.</li><li>Source path must be fully owned by user and/or group <code>zymbit</code>.</li></ul></li></ul><h2 id=crypto-features>Crypto Features</h2><h3 id=random-number-generation>Random Number Generation</h3><p>This feature is useful when the default host random number generator is suspected of having <a href=http://security.stackexchange.com/questions/47475/testing-a-hardware-random-number-generator>cryptographic weakness</a>. It can also be used to supplement existing random number generation sources. Zymkey bases its random number generation on an internal TRNG (True Random Number Generator) and performs well under Fourmilab&rsquo;s <code>ent</code>.</p><h3 id=data-locker>Data Locker</h3><p>Zymkey includes a feature, called Data Locking. This feature is essentially an AES encryption of the data block followed by an ECDSA signature trailer.</p><h4 id=data-locker-keys>Data Locker Keys</h4><p>In addition to a unique ECDSA private/public key pair, each Zymkey has two unique AES keys that are programmed at the factory.</p><h3 id=ecdsa-operations>ECDSA Operations</h3><p>Each Zymkey comes out of the factory with three (Zymkey 4i/HSM4) or 12 (HSM6) unique ECDSA private/public key pairs. These private keys are randomly programmed within hardware at the time of manufacture and never exported. In fact, Zymbit doesn&rsquo;t even know what the value of the private keys are.</p><p>There are three ECDSA operations available:</p><ul><li><strong>Generate signature:</strong><ul><li>The Zymkey is capable of generating an ECDSA signature.</li></ul></li><li><strong>Verification signature:</strong><ul><li>The Zymkey is capable of verifying an ECDSA signature.</li></ul></li><li><strong>Export the ECDSA public key:</strong><ul><li>This saves the public key to a file in PEM format. This operation is useful for generating a Certificate Signing Request (CSR).</li></ul></li></ul><h2 id=other-features>Other Features</h2><h3 id=led>LED</h3><p>The Zymkey has an LED which can be turned on, off or flashed at an interval.</p><h3 id=i2c-address>i2c Address</h3><p>For Zymkeys with an i2c interface, the base address can be changed to work around addressing conflicts. The default address is <code>0x30</code>, but can be changed in the ranges <code>0x30 - 0x37</code> and <code>0x60 - 0x67</code>.</p><h3 id=tap-sensitivity>Tap Sensitivity</h3><p>The Zymkey has an accelerometer which can perform tap detection. The sensitivity of the tap detection is configurable.</p><h2 id=programming-language-support>Programming Language Support</h2><p>Currently, C, C++ and Python are supported.</p><h2 id=binding>Binding</h2><p>Before a Zymkey can be effectively used on a host computer, it must be &ldquo;bound&rdquo; to it. Binding is a process where a &ldquo;fingerprint&rdquo; is made which is composed of the host computer and its SD card serial numbers as well as the Zymkey serial number. If the host computer or SD card is changed from the time of binding, the Zymkey will refuse to accept commands.</p><p>To learn more about binding your zymkey, go to the Zymbit Community &ldquo;Getting Started&rdquo; page for your Zymkey model (e.g. <a href=https://community.zymbit.com/t/getting-started-with-zymkey-4i>Getting Started with ZYMKEY</a>).</p><h2 id=hsm4>HSM4</h2><h3 id=soft-bind-lock>Soft Bind Lock</h3><p>Unlike Zymkey, HSM4 does not have a physical lock tab that is cut to lock the host binding. Instead, it has a software API for locking the binding to the host. See the soft bind lock API description for more information.</p><h2 id=hsm6>HSM6</h2><h3 id=soft-bind-lock-1>Soft Bind Lock</h3><p>See &ldquo;HSM4: Soft Bind Lock&rdquo; above.</p><h3 id=ecdh>ECDH</h3><p>ECDH with some Key Derivation Functions (KDFs) is available. The available KDFs include:</p><ol><li><strong>none:</strong> The raw pre-master secret is returned.</li><li><strong>rfc5869:</strong> This KDF can be invoked with SHA256 or SHA512 as the hashing function.</li><li><strong>pbkdf2:</strong> Like rfc5869, SHA256 or SHA512 can be specified.</li></ol><h3 id=koblitz-curve-support>Koblitz Curve Support</h3><p>In addition to NIST P-256 which is available on Zymkey and HSM4, the Koblitz 256 bit curve is available as well.</p><h3 id=more-key-slots>More Key Slots</h3><p>HSM6 now has 12 factory pre-configured NIST P-256 key slots and 512 key pairs for generated key pair and digital wallet allocation for NIST P-256 or Koblitz 256. All of these key slots can be used for ECDSA as well as ECDH operations. It is also possible to remove the keys in the 512 key pair store and also prohibit public key export.</p><h3 id=foreign-public-keyring>Foreign Public Keyring</h3><p>128 public key slots are available to form a public key store for storing foreign party public keys. Like the 512 key pair store, public keys can be removed and prohibited from export.</p><h3 id=digital-wallet>Digital Wallet</h3><p>HSM6 provides APIs which allow the creation of 1 or more digital wallets per BIP 32/39/44. The number of master seeds and child nodes is only limited by the number of key pairs provided for in the 512 byte key pair store. The BIP 39 feature provides the mnemonic sentence using the 2048 word English dictionary.</p><h3 id=battery-and-temperature-monitoring>Battery and Temperature Monitoring</h3><p>The HSM6 has APIs for reading the battery voltage as well as monitoring policies for taking action if certain thresholds are exceeded.</p><h4 id=battery-monitoring>Battery Monitoring</h4><p>The Battery Monitoring feature provides for 1 of 2 actions if the battery voltage below specified threshold (settable from 2.5V or lower via API).</p><ol><li><p><strong>self-destruct:</strong></p><ul><li>If the battery voltage goes lower than the threshold, destroy all key material. Good for use cases where a low battery voltage is interpreted as an attempt to attack the low power tamper detect operation.</li></ul></li><li><p><strong>sleep-until-battery-recovery:</strong></p><ul><li>Do not permit full functionality until the battery has gone above the threshold. Good for use cases where battery replacement is desirable.</li></ul></li></ol><h4 id=temperature-monitoring>Temperature Monitoring</h4><p>The Temperature Monitoring feature provides protection from attacks that are based on manipulation of temperature (e.g. memory freeze attacks). If invoked, the system may be configured to destroy keys if temperature thresholds are exceeded.</p><div class="text-muted mt-5 pt-3 border-top"></div></div></main></div></div><footer class="bg-dark py-5 row d-print-none"><div class="container-fluid mx-sm-5"><div class=row><div class="col-6 col-sm-4 text-xs-center order-sm-2"></div><div class="col-6 col-sm-4 text-right text-xs-center order-sm-3"></div><div class="col-12 col-sm-4 text-center py-2 order-sm-2"></div></div></div></footer></div><script src=https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js integrity=sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js integrity=sha384-+YQ4JLhjyBLPDQt//I+STsc9iw4uQqACwlvpslubQzn4u2UU2UFM80nGisd026JF crossorigin=anonymous></script><script src=/js/main.min.2ba2da7d2fe4be755f96e1f7760bcc4a769c4b9369d2356a8872050735635419.js integrity="sha256-K6LafS/kvnVfluH3dgvMSnacS5Np0jVqiHIFBzVjVBk=" crossorigin=anonymous></script></body></html>